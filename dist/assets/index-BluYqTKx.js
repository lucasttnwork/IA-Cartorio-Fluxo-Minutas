var xr=e=>{throw TypeError(e)};var ya=(e,t,a)=>t.has(e)||xr("Cannot "+a);var d=(e,t,a)=>(ya(e,t,"read from private field"),a?a.call(e):t.get(e)),R=(e,t,a)=>t.has(e)?xr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),D=(e,t,a,r)=>(ya(e,t,"write to private field"),r?r.call(e,a):t.set(e,a),a),T=(e,t,a)=>(ya(e,t,"access private method"),a);var Ut=(e,t,a,r)=>({set _(i){D(e,t,i,a)},get _(){return d(e,t,r)}});import{j as n,c as Ni,u as Ci}from"./canvas-CyV05iTF.js";import{a as Ei,r as s,u as la,b as Se,L as Lt,c as kn,N as gr,O as jn,g as Si,R as Xa,d as Nn,e as Oi,f as oe,B as Di}from"./vendor-DI5uVZmF.js";import{c as Pi,_ as rt}from"./supabase-CsVfnqVU.js";import{A as ie,m as A}from"./ui-DjMAICZQ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var Oa={},vr=Ei;Oa.createRoot=vr.createRoot,Oa.hydrateRoot=vr.hydrateRoot;const Mi="https://kllcbgoqtxedlfbkxpfo.supabase.co",Ri="sb_publishable_tAIEYBl2iomL3llx3dUQrA_RGkOTFOJ",z=Pi(Mi,Ri,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},realtime:{params:{eventsPerSecond:10}}});async function Fi(e,t){const a=`${t}/${Date.now()}-${e.name}`,{data:r,error:i}=await z.storage.from("documents").upload(a,e,{cacheControl:"3600",upsert:!1});return i?{path:"",error:i}:{path:r.path,error:null}}async function Cn(e,t,a){const{data:r,error:i}=await z.from("processing_jobs").insert({case_id:e,document_id:t,job_type:a,status:"pending",attempts:0,max_attempts:3}).select().single();return i?(console.error("Error creating processing job:",i),{data:null,error:i}):{data:r,error:null}}async function _i(e){const{data:t,error:a}=await z.from("documents").select("id").eq("case_id",e);if(a)return console.error("Error getting case documents:",a),{data:null,error:a};if(!t||t.length===0)return{data:[],error:null};const r=t.map(l=>l.id),{data:i,error:o}=await z.from("extractions").select("id, document_id, consensus, pending_fields").in("document_id",r);return o?(console.error("Error getting case extractions:",o),{data:null,error:o}):{data:(i||[]).map(l=>{var m,x;const u=((m=l.consensus)==null?void 0:m.conflicts)||[],v=u.filter(N=>N.status==="pending").length,b=u.filter(N=>N.status==="resolved").length,j=((x=l.consensus)==null?void 0:x.confirmed_fields)||0;return{extractionId:l.id,documentId:l.document_id,totalConflicts:u.length,pendingConflicts:v,resolvedConflicts:b,confirmedFields:j,conflicts:u}}),error:null}}async function Ti(e,t,a){const{data:r,error:i}=await z.from("extractions").select("*").eq("id",e).single();if(i||!r)return console.error("Error getting extraction for resolution:",i),{success:!1,conflict:{},message:"Extraction not found"};const o=r.consensus||{conflicts:[],fields:{}},c=o.conflicts||[],l=c.findIndex(g=>g.fieldPath===t.fieldPath);if(l===-1)return{success:!1,conflict:{},message:`Conflict not found for field: ${t.fieldPath}`};const u={...c[l],status:"resolved",finalValue:t.resolvedValue,reviewedBy:a,reviewedAt:new Date().toISOString(),resolutionNote:t.resolutionNote};c[l]=u;const v=(r.pending_fields||[]).filter(g=>g!==t.fieldPath),b=o.fields||{},j=t.fieldPath;b[j]&&(b[j]={...b[j],value:t.resolvedValue,is_pending:!1});const m=c.filter(g=>g.status==="pending").length,x=c.filter(g=>g.status==="confirmed"||g.status==="resolved").length,N={...o,conflicts:c,fields:b,pending_fields:m,confirmed_fields:x},{error:w}=await z.from("extractions").update({consensus:N,pending_fields:v}).eq("id",e);return w?(console.error("Error updating extraction:",w),{success:!1,conflict:u,message:"Failed to save resolution"}):{success:!0,conflict:u,message:"Conflict resolved successfully"}}async function Ai(e,t){return Cn(e,t,"consensus")}function Li(e,t){const a=z.channel(`consensus:${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"extractions"},r=>{var o,c;const i=r.new;i.consensus&&t({extractionId:i.id,documentId:i.document_id,pendingFields:i.pending_fields||[],conflictsCount:((c=(o=i.consensus)==null?void 0:o.conflicts)==null?void 0:c.length)||0})}).subscribe();return()=>{z.removeChannel(a)}}const En=s.createContext(void 0);function Ii({children:e}){const[t,a]=s.useState(null),[r,i]=s.useState(null),[o,c]=s.useState(null),[l,u]=s.useState(!0);s.useEffect(()=>{z.auth.getSession().then(({data:{session:g}})=>{c(g),a((g==null?void 0:g.user)??null),g!=null&&g.user?v(g.user.id):u(!1)});const{data:{subscription:w}}=z.auth.onAuthStateChange((g,p)=>{c(p),a((p==null?void 0:p.user)??null),p!=null&&p.user?v(p.user.id):(i(null),u(!1))});return()=>w.unsubscribe()},[]);async function v(w){try{const{data:g,error:p}=await z.from("users").select("*").eq("id",w).single();if(p)throw p;i(g)}catch(g){console.error("Error fetching app user:",g)}finally{u(!1)}}async function b(w,g){try{const{error:p}=await z.auth.signInWithPassword({email:w,password:g});return{error:p}}catch(p){return{error:p}}}async function j(w,g,p){try{const{error:f}=await z.auth.signUp({email:w,password:g,options:{data:{full_name:p}}});return{error:f}}catch(f){return{error:f}}}async function m(){await z.auth.signOut()}async function x(w){try{const{error:g}=await z.auth.resetPasswordForEmail(w,{redirectTo:`${window.location.origin}/reset-password`});return{error:g}}catch(g){return{error:g}}}const N={user:t,appUser:r,session:o,loading:l,signIn:b,signUp:j,signOut:m,resetPassword:x};return n.jsx(En.Provider,{value:N,children:e})}function jt(){const e=s.useContext(En);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}var Nt=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},$i={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Pe,Za,un,zi=(un=class{constructor(){R(this,Pe,$i);R(this,Za,!1)}setTimeoutProvider(e){D(this,Pe,e)}setTimeout(e,t){return d(this,Pe).setTimeout(e,t)}clearTimeout(e){d(this,Pe).clearTimeout(e)}setInterval(e,t){return d(this,Pe).setInterval(e,t)}clearInterval(e){d(this,Pe).clearInterval(e)}},Pe=new WeakMap,Za=new WeakMap,un),Be=new zi;function qi(e){setTimeout(e,0)}var et=typeof window>"u"||"Deno"in globalThis;function J(){}function Wi(e,t){return typeof e=="function"?e(t):e}function Da(e){return typeof e=="number"&&e>=0&&e!==1/0}function Sn(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $e(e,t){return typeof e=="function"?e(t):e}function ce(e,t){return typeof e=="function"?e(t):e}function br(e,t){const{type:a="all",exact:r,fetchStatus:i,predicate:o,queryKey:c,stale:l}=e;if(c){if(r){if(t.queryHash!==Ja(c,t.options))return!1}else if(!Ot(t.queryKey,c))return!1}if(a!=="all"){const u=t.isActive();if(a==="active"&&!u||a==="inactive"&&u)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function yr(e,t){const{exact:a,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(a){if(tt(t.options.mutationKey)!==tt(o))return!1}else if(!Ot(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Ja(e,t){return((t==null?void 0:t.queryKeyHashFn)||tt)(e)}function tt(e){return JSON.stringify(e,(t,a)=>Pa(a)?Object.keys(a).sort().reduce((r,i)=>(r[i]=a[i],r),{}):a)}function Ot(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>Ot(e[a],t[a])):!1}var Bi=Object.prototype.hasOwnProperty;function On(e,t){if(e===t)return e;const a=wr(e)&&wr(t);if(!a&&!(Pa(e)&&Pa(t)))return t;const i=(a?e:Object.keys(e)).length,o=a?t:Object.keys(t),c=o.length,l=a?new Array(c):{};let u=0;for(let v=0;v<c;v++){const b=a?v:o[v],j=e[b],m=t[b];if(j===m){l[b]=j,(a?v<i:Bi.call(e,b))&&u++;continue}if(j===null||m===null||typeof j!="object"||typeof m!="object"){l[b]=m;continue}const x=On(j,m);l[b]=x,x===j&&u++}return i===c&&u===i?e:l}function Jt(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}function wr(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Pa(e){if(!kr(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!kr(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kr(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ui(e){return new Promise(t=>{Be.setTimeout(t,e)})}function Ma(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?On(e,t):t}function Hi(e,t,a=0){const r=[...e,t];return a&&r.length>a?r.slice(1):r}function Qi(e,t,a=0){const r=[t,...e];return a&&r.length>a?r.slice(0,-1):r}var er=Symbol();function Dn(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===er?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Pn(e,t){return typeof e=="function"?e(...t):!!e}var Ue,Me,dt,pn,Yi=(pn=class extends Nt{constructor(){super();R(this,Ue);R(this,Me);R(this,dt);D(this,dt,t=>{if(!et&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){d(this,Me)||this.setEventListener(d(this,dt))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Me))==null||t.call(this),D(this,Me,void 0))}setEventListener(t){var a;D(this,dt,t),(a=d(this,Me))==null||a.call(this),D(this,Me,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){d(this,Ue)!==t&&(D(this,Ue,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof d(this,Ue)=="boolean"?d(this,Ue):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ue=new WeakMap,Me=new WeakMap,dt=new WeakMap,pn),tr=new Yi;function Ra(){let e,t;const a=new Promise((i,o)=>{e=i,t=o});a.status="pending",a.catch(()=>{});function r(i){Object.assign(a,i),delete a.resolve,delete a.reject}return a.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},a.reject=i=>{r({status:"rejected",reason:i}),t(i)},a}var Vi=qi;function Gi(){let e=[],t=0,a=l=>{l()},r=l=>{l()},i=Vi;const o=l=>{t?e.push(l):i(()=>{a(l)})},c=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{a(u)})})})};return{batch:l=>{let u;t++;try{u=l()}finally{t--,t||c()}return u},batchCalls:l=>(...u)=>{o(()=>{l(...u)})},schedule:o,setNotifyFunction:l=>{a=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var V=Gi(),ut,Re,pt,mn,Ki=(mn=class extends Nt{constructor(){super();R(this,ut,!0);R(this,Re);R(this,pt);D(this,pt,t=>{if(!et&&window.addEventListener){const a=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){d(this,Re)||this.setEventListener(d(this,pt))}onUnsubscribe(){var t;this.hasListeners()||((t=d(this,Re))==null||t.call(this),D(this,Re,void 0))}setEventListener(t){var a;D(this,pt,t),(a=d(this,Re))==null||a.call(this),D(this,Re,t(this.setOnline.bind(this)))}setOnline(t){d(this,ut)!==t&&(D(this,ut,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return d(this,ut)}},ut=new WeakMap,Re=new WeakMap,pt=new WeakMap,mn),ea=new Ki;function Zi(e){return Math.min(1e3*2**e,3e4)}function Mn(e){return(e??"online")==="online"?ea.isOnline():!0}var Fa=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Rn(e){let t=!1,a=0,r;const i=Ra(),o=()=>i.status!=="pending",c=w=>{var g;if(!o()){const p=new Fa(w);m(p),(g=e.onCancel)==null||g.call(e,p)}},l=()=>{t=!0},u=()=>{t=!1},v=()=>tr.isFocused()&&(e.networkMode==="always"||ea.isOnline())&&e.canRun(),b=()=>Mn(e.networkMode)&&e.canRun(),j=w=>{o()||(r==null||r(),i.resolve(w))},m=w=>{o()||(r==null||r(),i.reject(w))},x=()=>new Promise(w=>{var g;r=p=>{(o()||v())&&w(p)},(g=e.onPause)==null||g.call(e)}).then(()=>{var w;r=void 0,o()||(w=e.onContinue)==null||w.call(e)}),N=()=>{if(o())return;let w;const g=a===0?e.initialPromise:void 0;try{w=g??e.fn()}catch(p){w=Promise.reject(p)}Promise.resolve(w).then(j).catch(p=>{var O;if(o())return;const f=e.retry??(et?0:3),k=e.retryDelay??Zi,h=typeof k=="function"?k(a,p):k,M=f===!0||typeof f=="number"&&a<f||typeof f=="function"&&f(a,p);if(t||!M){m(p);return}a++,(O=e.onFail)==null||O.call(e,a,p),Ui(h).then(()=>v()?void 0:x()).then(()=>{t?m(p):N()})})};return{promise:i,status:()=>i.status,cancel:c,continue:()=>(r==null||r(),i),cancelRetry:l,continueRetry:u,canStart:b,start:()=>(b()?N():x().then(N),i)}}var He,hn,Fn=(hn=class{constructor(){R(this,He)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Da(this.gcTime)&&D(this,He,Be.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(et?1/0:5*60*1e3))}clearGcTimeout(){d(this,He)&&(Be.clearTimeout(d(this,He)),D(this,He,void 0))}},He=new WeakMap,hn),Qe,mt,le,Ye,K,Rt,Ve,ue,ye,fn,Xi=(fn=class extends Fn{constructor(t){super();R(this,ue);R(this,Qe);R(this,mt);R(this,le);R(this,Ye);R(this,K);R(this,Rt);R(this,Ve);D(this,Ve,!1),D(this,Rt,t.defaultOptions),this.setOptions(t.options),this.observers=[],D(this,Ye,t.client),D(this,le,d(this,Ye).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,D(this,Qe,Nr(this.options)),this.state=t.state??d(this,Qe),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=d(this,K))==null?void 0:t.promise}setOptions(t){if(this.options={...d(this,Rt),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const a=Nr(this.options);a.data!==void 0&&(this.setState(jr(a.data,a.dataUpdatedAt)),D(this,Qe,a))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&d(this,le).remove(this)}setData(t,a){const r=Ma(this.state.data,t,this.options);return T(this,ue,ye).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(t,a){T(this,ue,ye).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var r,i;const a=(r=d(this,K))==null?void 0:r.promise;return(i=d(this,K))==null||i.cancel(t),a?a.then(J).catch(J):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(d(this,Qe))}isActive(){return this.observers.some(t=>ce(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===er||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$e(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Sn(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=d(this,K))==null||a.continue()}onOnline(){var a;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=d(this,K))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),d(this,le).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(d(this,K)&&(d(this,Ve)?d(this,K).cancel({revert:!0}):d(this,K).cancelRetry()),this.scheduleGc()),d(this,le).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||T(this,ue,ye).call(this,{type:"invalidate"})}async fetch(t,a){var u,v,b,j,m,x,N,w,g,p,f,k;if(this.state.fetchStatus!=="idle"&&((u=d(this,K))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(d(this,K))return d(this,K).continueRetry(),d(this,K).promise}if(t&&this.setOptions(t),!this.options.queryFn){const h=this.observers.find(M=>M.options.queryFn);h&&this.setOptions(h.options)}const r=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(D(this,Ve,!0),r.signal)})},o=()=>{const h=Dn(this.options,a),O=(()=>{const S={client:d(this,Ye),queryKey:this.queryKey,meta:this.meta};return i(S),S})();return D(this,Ve,!1),this.options.persister?this.options.persister(h,O,this):h(O)},l=(()=>{const h={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:d(this,Ye),state:this.state,fetchFn:o};return i(h),h})();(v=this.options.behavior)==null||v.onFetch(l,this),D(this,mt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((b=l.fetchOptions)==null?void 0:b.meta))&&T(this,ue,ye).call(this,{type:"fetch",meta:(j=l.fetchOptions)==null?void 0:j.meta}),D(this,K,Rn({initialPromise:a==null?void 0:a.initialPromise,fn:l.fetchFn,onCancel:h=>{h instanceof Fa&&h.revert&&this.setState({...d(this,mt),fetchStatus:"idle"}),r.abort()},onFail:(h,M)=>{T(this,ue,ye).call(this,{type:"failed",failureCount:h,error:M})},onPause:()=>{T(this,ue,ye).call(this,{type:"pause"})},onContinue:()=>{T(this,ue,ye).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const h=await d(this,K).start();if(h===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(h),(x=(m=d(this,le).config).onSuccess)==null||x.call(m,h,this),(w=(N=d(this,le).config).onSettled)==null||w.call(N,h,this.state.error,this),h}catch(h){if(h instanceof Fa){if(h.silent)return d(this,K).promise;if(h.revert){if(this.state.data===void 0)throw h;return this.state.data}}throw T(this,ue,ye).call(this,{type:"error",error:h}),(p=(g=d(this,le).config).onError)==null||p.call(g,h,this),(k=(f=d(this,le).config).onSettled)==null||k.call(f,this.state.data,h,this),h}finally{this.scheduleGc()}}},Qe=new WeakMap,mt=new WeakMap,le=new WeakMap,Ye=new WeakMap,K=new WeakMap,Rt=new WeakMap,Ve=new WeakMap,ue=new WeakSet,ye=function(t){const a=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,..._n(r.data,this.options),fetchMeta:t.meta??null};case"success":const i={...r,...jr(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return D(this,mt,t.manual?i:void 0),i;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=a(this.state),V.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),d(this,le).notify({query:this,type:"updated",action:t})})},fn);function _n(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Mn(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function jr(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Nr(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,r=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var ee,L,Ft,Z,Ge,ht,we,Fe,_t,ft,xt,Ke,Ze,_e,gt,I,St,_a,Ta,Aa,La,Ia,$a,za,Tn,xn,Ji=(xn=class extends Nt{constructor(t,a){super();R(this,I);R(this,ee);R(this,L);R(this,Ft);R(this,Z);R(this,Ge);R(this,ht);R(this,we);R(this,Fe);R(this,_t);R(this,ft);R(this,xt);R(this,Ke);R(this,Ze);R(this,_e);R(this,gt,new Set);this.options=a,D(this,ee,t),D(this,Fe,null),D(this,we,Ra()),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(d(this,L).addObserver(this),Cr(d(this,L),this.options)?T(this,I,St).call(this):this.updateResult(),T(this,I,La).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qa(d(this,L),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qa(d(this,L),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,T(this,I,Ia).call(this),T(this,I,$a).call(this),d(this,L).removeObserver(this)}setOptions(t){const a=this.options,r=d(this,L);if(this.options=d(this,ee).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ce(this.options.enabled,d(this,L))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");T(this,I,za).call(this),d(this,L).setOptions(this.options),a._defaulted&&!Jt(this.options,a)&&d(this,ee).getQueryCache().notify({type:"observerOptionsUpdated",query:d(this,L),observer:this});const i=this.hasListeners();i&&Er(d(this,L),r,this.options,a)&&T(this,I,St).call(this),this.updateResult(),i&&(d(this,L)!==r||ce(this.options.enabled,d(this,L))!==ce(a.enabled,d(this,L))||$e(this.options.staleTime,d(this,L))!==$e(a.staleTime,d(this,L)))&&T(this,I,_a).call(this);const o=T(this,I,Ta).call(this);i&&(d(this,L)!==r||ce(this.options.enabled,d(this,L))!==ce(a.enabled,d(this,L))||o!==d(this,_e))&&T(this,I,Aa).call(this,o)}getOptimisticResult(t){const a=d(this,ee).getQueryCache().build(d(this,ee),t),r=this.createResult(a,t);return ts(this,r)&&(D(this,Z,r),D(this,ht,this.options),D(this,Ge,d(this,L).state)),r}getCurrentResult(){return d(this,Z)}trackResult(t,a){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),a==null||a(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&d(this,we).status==="pending"&&d(this,we).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(t){d(this,gt).add(t)}getCurrentQuery(){return d(this,L)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=d(this,ee).defaultQueryOptions(t),r=d(this,ee).getQueryCache().build(d(this,ee),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return T(this,I,St).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),d(this,Z)))}createResult(t,a){var E;const r=d(this,L),i=this.options,o=d(this,Z),c=d(this,Ge),l=d(this,ht),v=t!==r?t.state:d(this,Ft),{state:b}=t;let j={...b},m=!1,x;if(a._optimisticResults){const C=this.hasListeners(),_=!C&&Cr(t,a),U=C&&Er(t,r,a,i);(_||U)&&(j={...j,..._n(b.data,t.options)}),a._optimisticResults==="isRestoring"&&(j.fetchStatus="idle")}let{error:N,errorUpdatedAt:w,status:g}=j;x=j.data;let p=!1;if(a.placeholderData!==void 0&&x===void 0&&g==="pending"){let C;o!=null&&o.isPlaceholderData&&a.placeholderData===(l==null?void 0:l.placeholderData)?(C=o.data,p=!0):C=typeof a.placeholderData=="function"?a.placeholderData((E=d(this,xt))==null?void 0:E.state.data,d(this,xt)):a.placeholderData,C!==void 0&&(g="success",x=Ma(o==null?void 0:o.data,C,a),m=!0)}if(a.select&&x!==void 0&&!p)if(o&&x===(c==null?void 0:c.data)&&a.select===d(this,_t))x=d(this,ft);else try{D(this,_t,a.select),x=a.select(x),x=Ma(o==null?void 0:o.data,x,a),D(this,ft,x),D(this,Fe,null)}catch(C){D(this,Fe,C)}d(this,Fe)&&(N=d(this,Fe),x=d(this,ft),w=Date.now(),g="error");const f=j.fetchStatus==="fetching",k=g==="pending",h=g==="error",M=k&&f,O=x!==void 0,y={status:g,fetchStatus:j.fetchStatus,isPending:k,isSuccess:g==="success",isError:h,isInitialLoading:M,isLoading:M,data:x,dataUpdatedAt:j.dataUpdatedAt,error:N,errorUpdatedAt:w,failureCount:j.fetchFailureCount,failureReason:j.fetchFailureReason,errorUpdateCount:j.errorUpdateCount,isFetched:j.dataUpdateCount>0||j.errorUpdateCount>0,isFetchedAfterMount:j.dataUpdateCount>v.dataUpdateCount||j.errorUpdateCount>v.errorUpdateCount,isFetching:f,isRefetching:f&&!k,isLoadingError:h&&!O,isPaused:j.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:h&&O,isStale:ar(t,a),refetch:this.refetch,promise:d(this,we),isEnabled:ce(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const C=Y=>{y.status==="error"?Y.reject(y.error):y.data!==void 0&&Y.resolve(y.data)},_=()=>{const Y=D(this,we,y.promise=Ra());C(Y)},U=d(this,we);switch(U.status){case"pending":t.queryHash===r.queryHash&&C(U);break;case"fulfilled":(y.status==="error"||y.data!==U.value)&&_();break;case"rejected":(y.status!=="error"||y.error!==U.reason)&&_();break}}return y}updateResult(){const t=d(this,Z),a=this.createResult(d(this,L),this.options);if(D(this,Ge,d(this,L).state),D(this,ht,this.options),d(this,Ge).data!==void 0&&D(this,xt,d(this,L)),Jt(a,t))return;D(this,Z,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!d(this,gt).size)return!0;const c=new Set(o??d(this,gt));return this.options.throwOnError&&c.add("error"),Object.keys(d(this,Z)).some(l=>{const u=l;return d(this,Z)[u]!==t[u]&&c.has(u)})};T(this,I,Tn).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&T(this,I,La).call(this)}},ee=new WeakMap,L=new WeakMap,Ft=new WeakMap,Z=new WeakMap,Ge=new WeakMap,ht=new WeakMap,we=new WeakMap,Fe=new WeakMap,_t=new WeakMap,ft=new WeakMap,xt=new WeakMap,Ke=new WeakMap,Ze=new WeakMap,_e=new WeakMap,gt=new WeakMap,I=new WeakSet,St=function(t){T(this,I,za).call(this);let a=d(this,L).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(J)),a},_a=function(){T(this,I,Ia).call(this);const t=$e(this.options.staleTime,d(this,L));if(et||d(this,Z).isStale||!Da(t))return;const r=Sn(d(this,Z).dataUpdatedAt,t)+1;D(this,Ke,Be.setTimeout(()=>{d(this,Z).isStale||this.updateResult()},r))},Ta=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(d(this,L)):this.options.refetchInterval)??!1},Aa=function(t){T(this,I,$a).call(this),D(this,_e,t),!(et||ce(this.options.enabled,d(this,L))===!1||!Da(d(this,_e))||d(this,_e)===0)&&D(this,Ze,Be.setInterval(()=>{(this.options.refetchIntervalInBackground||tr.isFocused())&&T(this,I,St).call(this)},d(this,_e)))},La=function(){T(this,I,_a).call(this),T(this,I,Aa).call(this,T(this,I,Ta).call(this))},Ia=function(){d(this,Ke)&&(Be.clearTimeout(d(this,Ke)),D(this,Ke,void 0))},$a=function(){d(this,Ze)&&(Be.clearInterval(d(this,Ze)),D(this,Ze,void 0))},za=function(){const t=d(this,ee).getQueryCache().build(d(this,ee),this.options);if(t===d(this,L))return;const a=d(this,L);D(this,L,t),D(this,Ft,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},Tn=function(t){V.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(d(this,Z))}),d(this,ee).getQueryCache().notify({query:d(this,L),type:"observerResultsUpdated"})})},xn);function es(e,t){return ce(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Cr(e,t){return es(e,t)||e.state.data!==void 0&&qa(e,t,t.refetchOnMount)}function qa(e,t,a){if(ce(t.enabled,e)!==!1&&$e(t.staleTime,e)!=="static"){const r=typeof a=="function"?a(e):a;return r==="always"||r!==!1&&ar(e,t)}return!1}function Er(e,t,a,r){return(e!==t||ce(r.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&ar(e,a)}function ar(e,t){return ce(t.enabled,e)!==!1&&e.isStaleByTime($e(t.staleTime,e))}function ts(e,t){return!Jt(e.getCurrentResult(),t)}function Sr(e){return{onFetch:(t,a)=>{var b,j,m,x,N;const r=t.options,i=(m=(j=(b=t.fetchOptions)==null?void 0:b.meta)==null?void 0:j.fetchMore)==null?void 0:m.direction,o=((x=t.state.data)==null?void 0:x.pages)||[],c=((N=t.state.data)==null?void 0:N.pageParams)||[];let l={pages:[],pageParams:[]},u=0;const v=async()=>{let w=!1;const g=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},p=Dn(t.options,t.fetchOptions),f=async(k,h,M)=>{if(w)return Promise.reject();if(h==null&&k.pages.length)return Promise.resolve(k);const S=(()=>{const _={client:t.client,queryKey:t.queryKey,pageParam:h,direction:M?"backward":"forward",meta:t.options.meta};return g(_),_})(),y=await p(S),{maxPages:E}=t.options,C=M?Qi:Hi;return{pages:C(k.pages,y,E),pageParams:C(k.pageParams,h,E)}};if(i&&o.length){const k=i==="backward",h=k?as:Or,M={pages:o,pageParams:c},O=h(r,M);l=await f(M,O,k)}else{const k=e??o.length;do{const h=u===0?c[0]??r.initialPageParam:Or(r,l);if(u>0&&h==null)break;l=await f(l,h),u++}while(u<k)}return l};t.options.persister?t.fetchFn=()=>{var w,g;return(g=(w=t.options).persister)==null?void 0:g.call(w,v,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=v}}}function Or(e,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,a[r],a):void 0}function as(e,{pages:t,pageParams:a}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,a[0],a):void 0}var Tt,fe,X,Xe,xe,De,gn,rs=(gn=class extends Fn{constructor(t){super();R(this,xe);R(this,Tt);R(this,fe);R(this,X);R(this,Xe);D(this,Tt,t.client),this.mutationId=t.mutationId,D(this,X,t.mutationCache),D(this,fe,[]),this.state=t.state||An(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){d(this,fe).includes(t)||(d(this,fe).push(t),this.clearGcTimeout(),d(this,X).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){D(this,fe,d(this,fe).filter(a=>a!==t)),this.scheduleGc(),d(this,X).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){d(this,fe).length||(this.state.status==="pending"?this.scheduleGc():d(this,X).remove(this))}continue(){var t;return((t=d(this,Xe))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var c,l,u,v,b,j,m,x,N,w,g,p,f,k,h,M,O,S,y,E;const a=()=>{T(this,xe,De).call(this,{type:"continue"})},r={client:d(this,Tt),meta:this.options.meta,mutationKey:this.options.mutationKey};D(this,Xe,Rn({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,_)=>{T(this,xe,De).call(this,{type:"failed",failureCount:C,error:_})},onPause:()=>{T(this,xe,De).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>d(this,X).canRun(this)}));const i=this.state.status==="pending",o=!d(this,Xe).canStart();try{if(i)a();else{T(this,xe,De).call(this,{type:"pending",variables:t,isPaused:o}),await((l=(c=d(this,X).config).onMutate)==null?void 0:l.call(c,t,this,r));const _=await((v=(u=this.options).onMutate)==null?void 0:v.call(u,t,r));_!==this.state.context&&T(this,xe,De).call(this,{type:"pending",context:_,variables:t,isPaused:o})}const C=await d(this,Xe).start();return await((j=(b=d(this,X).config).onSuccess)==null?void 0:j.call(b,C,t,this.state.context,this,r)),await((x=(m=this.options).onSuccess)==null?void 0:x.call(m,C,t,this.state.context,r)),await((w=(N=d(this,X).config).onSettled)==null?void 0:w.call(N,C,null,this.state.variables,this.state.context,this,r)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,C,null,t,this.state.context,r)),T(this,xe,De).call(this,{type:"success",data:C}),C}catch(C){try{throw await((k=(f=d(this,X).config).onError)==null?void 0:k.call(f,C,t,this.state.context,this,r)),await((M=(h=this.options).onError)==null?void 0:M.call(h,C,t,this.state.context,r)),await((S=(O=d(this,X).config).onSettled)==null?void 0:S.call(O,void 0,C,this.state.variables,this.state.context,this,r)),await((E=(y=this.options).onSettled)==null?void 0:E.call(y,void 0,C,t,this.state.context,r)),C}finally{T(this,xe,De).call(this,{type:"error",error:C})}}finally{d(this,X).runNext(this)}}},Tt=new WeakMap,fe=new WeakMap,X=new WeakMap,Xe=new WeakMap,xe=new WeakSet,De=function(t){const a=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),V.batch(()=>{d(this,fe).forEach(r=>{r.onMutationUpdate(t)}),d(this,X).notify({mutation:this,type:"updated",action:t})})},gn);function An(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ke,pe,At,vn,ns=(vn=class extends Nt{constructor(t={}){super();R(this,ke);R(this,pe);R(this,At);this.config=t,D(this,ke,new Set),D(this,pe,new Map),D(this,At,0)}build(t,a,r){const i=new rs({client:t,mutationCache:this,mutationId:++Ut(this,At)._,options:t.defaultMutationOptions(a),state:r});return this.add(i),i}add(t){d(this,ke).add(t);const a=Ht(t);if(typeof a=="string"){const r=d(this,pe).get(a);r?r.push(t):d(this,pe).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(d(this,ke).delete(t)){const a=Ht(t);if(typeof a=="string"){const r=d(this,pe).get(a);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&d(this,pe).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Ht(t);if(typeof a=="string"){const r=d(this,pe).get(a),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const a=Ht(t);if(typeof a=="string"){const i=(r=d(this,pe).get(a))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){V.batch(()=>{d(this,ke).forEach(t=>{this.notify({type:"removed",mutation:t})}),d(this,ke).clear(),d(this,pe).clear()})}getAll(){return Array.from(d(this,ke))}find(t){const a={exact:!0,...t};return this.getAll().find(r=>yr(a,r))}findAll(t={}){return this.getAll().filter(a=>yr(t,a))}notify(t){V.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return V.batch(()=>Promise.all(t.map(a=>a.continue().catch(J))))}},ke=new WeakMap,pe=new WeakMap,At=new WeakMap,vn);function Ht(e){var t;return(t=e.options.scope)==null?void 0:t.id}var je,Te,te,Ne,Ce,Kt,Wa,bn,is=(bn=class extends Nt{constructor(a,r){super();R(this,Ce);R(this,je);R(this,Te);R(this,te);R(this,Ne);D(this,je,a),this.setOptions(r),this.bindMethods(),T(this,Ce,Kt).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var i;const r=this.options;this.options=d(this,je).defaultMutationOptions(a),Jt(this.options,r)||d(this,je).getMutationCache().notify({type:"observerOptionsUpdated",mutation:d(this,te),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&tt(r.mutationKey)!==tt(this.options.mutationKey)?this.reset():((i=d(this,te))==null?void 0:i.state.status)==="pending"&&d(this,te).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=d(this,te))==null||a.removeObserver(this)}onMutationUpdate(a){T(this,Ce,Kt).call(this),T(this,Ce,Wa).call(this,a)}getCurrentResult(){return d(this,Te)}reset(){var a;(a=d(this,te))==null||a.removeObserver(this),D(this,te,void 0),T(this,Ce,Kt).call(this),T(this,Ce,Wa).call(this)}mutate(a,r){var i;return D(this,Ne,r),(i=d(this,te))==null||i.removeObserver(this),D(this,te,d(this,je).getMutationCache().build(d(this,je),this.options)),d(this,te).addObserver(this),d(this,te).execute(a)}},je=new WeakMap,Te=new WeakMap,te=new WeakMap,Ne=new WeakMap,Ce=new WeakSet,Kt=function(){var r;const a=((r=d(this,te))==null?void 0:r.state)??An();D(this,Te,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},Wa=function(a){V.batch(()=>{var r,i,o,c,l,u,v,b;if(d(this,Ne)&&this.hasListeners()){const j=d(this,Te).variables,m=d(this,Te).context,x={client:d(this,je),meta:this.options.meta,mutationKey:this.options.mutationKey};(a==null?void 0:a.type)==="success"?((i=(r=d(this,Ne)).onSuccess)==null||i.call(r,a.data,j,m,x),(c=(o=d(this,Ne)).onSettled)==null||c.call(o,a.data,null,j,m,x)):(a==null?void 0:a.type)==="error"&&((u=(l=d(this,Ne)).onError)==null||u.call(l,a.error,j,m,x),(b=(v=d(this,Ne)).onSettled)==null||b.call(v,void 0,a.error,j,m,x))}this.listeners.forEach(j=>{j(d(this,Te))})})},bn),ge,yn,ss=(yn=class extends Nt{constructor(t={}){super();R(this,ge);this.config=t,D(this,ge,new Map)}build(t,a,r){const i=a.queryKey,o=a.queryHash??Ja(i,a);let c=this.get(o);return c||(c=new Xi({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(a),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(c)),c}add(t){d(this,ge).has(t.queryHash)||(d(this,ge).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=d(this,ge).get(t.queryHash);a&&(t.destroy(),a===t&&d(this,ge).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){V.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return d(this,ge).get(t)}getAll(){return[...d(this,ge).values()]}find(t){const a={exact:!0,...t};return this.getAll().find(r=>br(a,r))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(r=>br(t,r)):a}notify(t){V.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){V.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){V.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},ge=new WeakMap,yn),H,Ae,Le,vt,bt,Ie,yt,wt,wn,os=(wn=class{constructor(e={}){R(this,H);R(this,Ae);R(this,Le);R(this,vt);R(this,bt);R(this,Ie);R(this,yt);R(this,wt);D(this,H,e.queryCache||new ss),D(this,Ae,e.mutationCache||new ns),D(this,Le,e.defaultOptions||{}),D(this,vt,new Map),D(this,bt,new Map),D(this,Ie,0)}mount(){Ut(this,Ie)._++,d(this,Ie)===1&&(D(this,yt,tr.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,H).onFocus())})),D(this,wt,ea.subscribe(async e=>{e&&(await this.resumePausedMutations(),d(this,H).onOnline())})))}unmount(){var e,t;Ut(this,Ie)._--,d(this,Ie)===0&&((e=d(this,yt))==null||e.call(this),D(this,yt,void 0),(t=d(this,wt))==null||t.call(this),D(this,wt,void 0))}isFetching(e){return d(this,H).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return d(this,Ae).findAll({...e,status:"pending"}).length}getQueryData(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=d(this,H).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=d(this,H).build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime($e(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return d(this,H).findAll(e).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(e,t,a){const r=this.defaultQueryOptions({queryKey:e}),i=d(this,H).get(r.queryHash),o=i==null?void 0:i.state.data,c=Wi(t,o);if(c!==void 0)return d(this,H).build(this,r).setData(c,{...a,manual:!0})}setQueriesData(e,t,a){return V.batch(()=>d(this,H).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(e){var a;const t=this.defaultQueryOptions({queryKey:e});return(a=d(this,H).get(t.queryHash))==null?void 0:a.state}removeQueries(e){const t=d(this,H);V.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=d(this,H);return V.batch(()=>(a.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},r=V.batch(()=>d(this,H).findAll(e).map(i=>i.cancel(a)));return Promise.all(r).then(J).catch(J)}invalidateQueries(e,t={}){return V.batch(()=>(d(this,H).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=V.batch(()=>d(this,H).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,a);return a.throwOnError||(o=o.catch(J)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(J)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=d(this,H).build(this,t);return a.isStaleByTime($e(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(J).catch(J)}fetchInfiniteQuery(e){return e.behavior=Sr(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(J).catch(J)}ensureInfiniteQueryData(e){return e.behavior=Sr(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ea.isOnline()?d(this,Ae).resumePausedMutations():Promise.resolve()}getQueryCache(){return d(this,H)}getMutationCache(){return d(this,Ae)}getDefaultOptions(){return d(this,Le)}setDefaultOptions(e){D(this,Le,e)}setQueryDefaults(e,t){d(this,vt).set(tt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...d(this,vt).values()],a={};return t.forEach(r=>{Ot(e,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(e,t){d(this,bt).set(tt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...d(this,bt).values()],a={};return t.forEach(r=>{Ot(e,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...d(this,Le).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ja(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===er&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...d(this,Le).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){d(this,H).clear(),d(this,Ae).clear()}},H=new WeakMap,Ae=new WeakMap,Le=new WeakMap,vt=new WeakMap,bt=new WeakMap,Ie=new WeakMap,yt=new WeakMap,wt=new WeakMap,wn),Ln=s.createContext(void 0),rr=e=>{const t=s.useContext(Ln);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ls=({client:e,children:t})=>(s.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(Ln.Provider,{value:e,children:t})),In=s.createContext(!1),cs=()=>s.useContext(In);In.Provider;function ds(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var us=s.createContext(ds()),ps=()=>s.useContext(us),ms=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},hs=e=>{s.useEffect(()=>{e.clearReset()},[e])},fs=({result:e,errorResetBoundary:t,throwOnError:a,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||Pn(a,[e.error,r])),xs=e=>{if(e.suspense){const a=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>a(r(...i)):a(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gs=(e,t)=>e.isLoading&&e.isFetching&&!t,vs=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Dr=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function bs(e,t,a){var j,m,x,N,w;const r=cs(),i=ps(),o=rr(),c=o.defaultQueryOptions(e);(m=(j=o.getDefaultOptions().queries)==null?void 0:j._experimental_beforeQuery)==null||m.call(j,c),c._optimisticResults=r?"isRestoring":"optimistic",xs(c),ms(c,i),hs(i);const l=!o.getQueryCache().get(c.queryHash),[u]=s.useState(()=>new t(o,c)),v=u.getOptimisticResult(c),b=!r&&e.subscribed!==!1;if(s.useSyncExternalStore(s.useCallback(g=>{const p=b?u.subscribe(V.batchCalls(g)):J;return u.updateResult(),p},[u,b]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),s.useEffect(()=>{u.setOptions(c)},[c,u]),vs(c,v))throw Dr(c,u,i);if(fs({result:v,errorResetBoundary:i,throwOnError:c.throwOnError,query:o.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw v.error;if((N=(x=o.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||N.call(x,c,v),c.experimental_prefetchInRender&&!et&&gs(v,r)){const g=l?Dr(c,u,i):(w=o.getQueryCache().get(c.queryHash))==null?void 0:w.promise;g==null||g.catch(J).finally(()=>{u.updateResult()})}return c.notifyOnChangeProps?v:u.trackResult(v)}function ys(e,t){return bs(e,Ji)}function ws(e,t){const a=rr(),[r]=s.useState(()=>new is(a,e));s.useEffect(()=>{r.setOptions(e)},[r,e]);const i=s.useSyncExternalStore(s.useCallback(c=>r.subscribe(V.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=s.useCallback((c,l)=>{r.mutate(c,l).catch(J)},[r]);if(i.error&&Pn(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function ks({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const $n=s.forwardRef(ks);function js({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const ae=s.forwardRef(js);function Ns({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Cs=s.forwardRef(Ns);function Es({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const zn=s.forwardRef(Es);function Ss({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 21 3 16.5m0 0L7.5 12M3 16.5h13.5m0-13.5L21 7.5m0 0L16.5 12M21 7.5H7.5"}))}const Ba=s.forwardRef(Ss);function Os({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ds=s.forwardRef(Os);function Ps({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Pr=s.forwardRef(Ps);function Ms({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Rs=s.forwardRef(Ms);function Fs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const Qt=s.forwardRef(Fs);function _s({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const de=s.forwardRef(_s);function Ts({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const As=s.forwardRef(Ts);function Ls({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const qn=s.forwardRef(Ls);function Is({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const $s=s.forwardRef(Is);function zs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"}))}const qs=s.forwardRef(zs);function Ws({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const Wn=s.forwardRef(Ws);function Bs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Je=s.forwardRef(Bs);function Us({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Mr=s.forwardRef(Us);function Hs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Qs=s.forwardRef(Hs);function Ys({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Bn=s.forwardRef(Ys);function Vs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Gs=s.forwardRef(Vs);function Ks({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const Zs=s.forwardRef(Ks);function Xs({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ee=s.forwardRef(Xs);function Js({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Zt=s.forwardRef(Js);function eo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const to=s.forwardRef(eo);function ao({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const ta=s.forwardRef(ao);function ro({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const aa=s.forwardRef(ro);function no({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const io=s.forwardRef(no);function so({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const oo=s.forwardRef(so);function lo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const co=s.forwardRef(lo);function uo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Un=s.forwardRef(uo);function po({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Dt=s.forwardRef(po);function mo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}const Rr=s.forwardRef(mo);function ho({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"}))}const fo=s.forwardRef(ho);function xo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const go=s.forwardRef(xo);function vo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const bo=s.forwardRef(vo);function yo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const Fr=s.forwardRef(yo);function wo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const ko=s.forwardRef(wo);function jo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const _r=s.forwardRef(jo);function No({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const Co=s.forwardRef(No);function Eo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Tr=s.forwardRef(Eo);function So({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const ra=s.forwardRef(So);function Oo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.429 9.75 2.25 12l4.179 2.25m0-4.5 5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0 4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0-5.571 3-5.571-3"}))}const Do=s.forwardRef(Oo);function Po({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Mo=s.forwardRef(Po);function Ro({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Fo=s.forwardRef(Ro);function _o({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Hn=s.forwardRef(_o);function To({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ao=s.forwardRef(To);function Lo({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ca=s.forwardRef(Lo),Io={dashboard:"Dashboard",case:"Case",upload:"Upload",entities:"Entities",canvas:"Canvas",draft:"Draft",history:"History"};function $o({caseName:e}){const t=la(),{caseId:a}=Se(),r=s.useMemo(()=>{const i=t.pathname.split("/").filter(Boolean),o=[];if(o.push({label:"Dashboard",href:"/dashboard",icon:Dt}),i[0]==="case"&&a){if(o.push({label:e||`Case ${a.slice(0,8)}...`,href:`/case/${a}`}),i.length>2){const c=i[2],l=Io[c]||c;o.push({label:l})}}else i[0]==="dashboard"&&(o.pop(),o.push({label:"Dashboard",icon:Dt}));return o},[t.pathname,a,e]);return r.length<=1?null:n.jsx("nav",{className:"breadcrumb","aria-label":"Breadcrumb",children:n.jsx("ol",{className:"breadcrumb-list",children:r.map((i,o)=>{const c=o===r.length-1,l=i.icon;return n.jsxs("li",{className:"breadcrumb-item",children:[o>0&&n.jsx($s,{className:"breadcrumb-separator","aria-hidden":"true"}),c?n.jsxs("span",{className:"breadcrumb-current","aria-current":"page",children:[l&&n.jsx(l,{className:"breadcrumb-icon"}),n.jsx("span",{className:"breadcrumb-text",children:i.label})]}):n.jsxs(Lt,{to:i.href,className:"breadcrumb-link",children:[l&&n.jsx(l,{className:"breadcrumb-icon"}),n.jsx("span",{className:"breadcrumb-text",children:i.label})]})]},i.label)})})})}function zo(){const e=kn(),t=la(),[a,r]=s.useState({canGoBack:!1,canGoForward:!1});s.useEffect(()=>{var u;const c=window.history.length,l=((u=window.history.state)==null?void 0:u.idx)??0;r({canGoBack:l>0||c>1,canGoForward:!1})},[t]),s.useEffect(()=>{const c=()=>{const l=window.history.state;r(u=>({...u,canGoBack:(l==null?void 0:l.idx)>0||window.history.length>1,canGoForward:(l==null?void 0:l.idx)<window.history.length-1}))};return window.addEventListener("popstate",c),()=>window.removeEventListener("popstate",c)},[]);const i=s.useCallback(()=>{e(-1),r(c=>({...c,canGoForward:!0}))},[e]),o=s.useCallback(()=>{e(1)},[e]);return s.useEffect(()=>{const c=l=>{l.altKey&&l.key==="ArrowLeft"?(l.preventDefault(),a.canGoBack&&i()):l.altKey&&l.key==="ArrowRight"&&(l.preventDefault(),a.canGoForward&&o())};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[a,i,o]),n.jsxs("div",{className:"browser-navigation",role:"navigation","aria-label":"Browser history navigation",children:[n.jsx("button",{type:"button",onClick:i,disabled:!a.canGoBack,className:"browser-nav-button","aria-label":"Go back",title:"Go back (Alt + Left Arrow)",children:n.jsx($n,{className:"w-5 h-5"})}),n.jsx("button",{type:"button",onClick:o,disabled:!a.canGoForward,className:"browser-nav-button","aria-label":"Go forward",title:"Go forward (Alt + Right Arrow)",children:n.jsx(zn,{className:"w-5 h-5"})})]})}function qo(e){const t=["bg-gradient-to-br from-blue-400 to-blue-600","bg-gradient-to-br from-purple-400 to-purple-600","bg-gradient-to-br from-green-400 to-green-600","bg-gradient-to-br from-amber-400 to-amber-600","bg-gradient-to-br from-rose-400 to-rose-600","bg-gradient-to-br from-cyan-400 to-cyan-600","bg-gradient-to-br from-indigo-400 to-indigo-600","bg-gradient-to-br from-teal-400 to-teal-600"];let a=0;for(let r=0;r<e.length;r++)a=e.charCodeAt(r)+((a<<5)-a);return t[Math.abs(a)%t.length]}function Wo(e){if(!e)return"U";const t=e.trim().split(/\s+/);return t.length===1?t[0].charAt(0).toUpperCase():(t[0].charAt(0)+t[t.length-1].charAt(0)).toUpperCase()}const Ar={xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-base",lg:"w-12 h-12 text-lg",xl:"w-16 h-16 text-xl"},Bo={xs:"w-1.5 h-1.5",sm:"w-2 h-2",md:"w-2.5 h-2.5",lg:"w-3 h-3",xl:"w-4 h-4"},Uo={online:"bg-green-500",offline:"bg-gray-400",busy:"bg-red-500",away:"bg-amber-500"};function Ua({name:e="User",src:t,size:a="md",status:r,className:i=""}){const o=s.useMemo(()=>Wo(e),[e]),c=s.useMemo(()=>qo(e),[e]);return n.jsxs("div",{className:`relative inline-flex ${i}`,children:[t?n.jsx("img",{src:t,alt:e,className:`${Ar[a]} rounded-full object-cover ring-2 ring-white dark:ring-gray-800 shadow-sm`}):n.jsx("div",{className:`
            ${Ar[a]}
            ${c}
            rounded-full
            flex items-center justify-center
            font-semibold text-white
            ring-2 ring-white dark:ring-gray-800
            shadow-sm
            transition-transform duration-200
            hover:scale-105
          `,children:o}),r&&n.jsx("span",{className:`
            absolute bottom-0 right-0
            ${Bo[a]}
            ${Uo[r]}
            rounded-full
            ring-2 ring-white dark:ring-gray-800
          `,"aria-label":`Status: ${r}`})]})}const Lr={admin:"Administrator",supervisor:"Supervisor",clerk:"Clerk"},Ho={admin:n.jsx(Tr,{className:"w-3 h-3"}),supervisor:n.jsx(Tr,{className:"w-3 h-3"}),clerk:null};function Ir({user:e,onSignOut:t,collapsed:a=!1}){const[r,i]=s.useState(!1),o=s.useRef(null);s.useEffect(()=>{function l(u){o.current&&!o.current.contains(u.target)&&i(!1)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]),s.useEffect(()=>{function l(u){u.key==="Escape"&&i(!1)}return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[]);const c=[{label:"View Profile",icon:Fo,onClick:()=>{i(!1)}},{label:"Settings",icon:Qs,onClick:()=>{i(!1)}},{label:"Sign Out",icon:Cs,onClick:()=>{t(),i(!1)},danger:!0}];return n.jsxs("div",{ref:o,className:"relative",children:[n.jsxs("button",{onClick:()=>i(!r),className:`
          w-full flex items-center gap-3
          p-2 rounded-lg
          hover:bg-gray-100 dark:hover:bg-gray-700
          transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800
          ${a?"justify-center":""}
        `,"aria-expanded":r,"aria-haspopup":"true",children:[n.jsx(Ua,{name:(e==null?void 0:e.full_name)||"User",size:"sm",status:"online"}),!a&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(e==null?void 0:e.full_name)||"User"}),n.jsxs("div",{className:"flex items-center gap-1",children:[(e==null?void 0:e.role)&&Ho[e.role],n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Lr[(e==null?void 0:e.role)||"clerk"]||"Clerk"})]})]}),n.jsx(qs,{className:"w-4 h-4 text-gray-400 flex-shrink-0"})]})]}),n.jsx(ie,{children:r&&n.jsxs(A.div,{initial:{opacity:0,y:8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:8,scale:.95},transition:{duration:.15,ease:"easeOut"},className:`
              absolute z-50 w-56
              ${a?"left-full ml-2 bottom-0":"bottom-full mb-2 left-0 right-0"}
              bg-white dark:bg-gray-800
              rounded-lg shadow-lg
              border border-gray-200 dark:border-gray-700
              overflow-hidden
            `,children:[n.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ua,{name:(e==null?void 0:e.full_name)||"User",size:"md"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:(e==null?void 0:e.full_name)||"User"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:Lr[(e==null?void 0:e.role)||"clerk"]||"Clerk"})]})]})}),n.jsx("div",{className:"py-1",children:c.map(l=>n.jsxs("button",{onClick:l.onClick,className:`
                    w-full flex items-center gap-3 px-4 py-2.5
                    text-sm text-left
                    transition-colors duration-150
                    ${l.danger?"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}
                  `,children:[n.jsx(l.icon,{className:"w-5 h-5 flex-shrink-0"}),n.jsx("span",{children:l.label})]},l.label))})]})})]})}const Qo=[{name:"Dashboard",href:"/dashboard",icon:Dt,caseRequired:!1}],Yo=[{name:"Overview",href:"",icon:Dt},{name:"Upload",href:"/upload",icon:Gs},{name:"Entities",href:"/entities",icon:Hn},{name:"Canvas",href:"/canvas",icon:Do},{name:"Draft",href:"/draft",icon:Ee},{name:"History",href:"/history",icon:Je}];function Vo(){const[e,t]=s.useState(!1),{appUser:a,signOut:r}=jt(),{caseId:i}=Se(),o=i?Yo.map(c=>({...c,href:`/case/${i}${c.href}`})):Qo;return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx(ie,{children:e&&n.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>t(!1)})}),n.jsx(ie,{children:e&&n.jsxs(A.div,{initial:{x:-280},animate:{x:0},exit:{x:-280},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-gray-800 shadow-xl lg:hidden flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b dark:border-gray-700",children:[n.jsx("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Minuta Canvas"}),n.jsx("button",{onClick:()=>t(!1),className:"p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(ca,{className:"w-5 h-5"})})]}),n.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:o.map(c=>n.jsxs(gr,{to:c.href,end:c.href===`/case/${i}`,onClick:()=>t(!1),className:({isActive:l})=>`flex items-center px-3 py-2 rounded-md transition-colors ${l?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.name]},c.name))}),n.jsx("div",{className:"p-3 border-t dark:border-gray-700",children:n.jsx(Ir,{user:a,onSignOut:r})})]})}),n.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:n.jsxs("div",{className:"flex flex-col flex-1 bg-white dark:bg-gray-800 border-r dark:border-gray-700",children:[n.jsx("div",{className:"flex items-center h-16 px-4 border-b dark:border-gray-700",children:n.jsx("span",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Minuta Canvas"})}),n.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:o.map(c=>n.jsxs(gr,{to:c.href,end:c.href===`/case/${i}`,className:({isActive:l})=>`flex items-center px-3 py-2 rounded-md transition-colors ${l?"bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[n.jsx(c.icon,{className:"w-5 h-5 mr-3"}),c.name]},c.name))}),n.jsx("div",{className:"p-3 border-t dark:border-gray-700",children:n.jsx(Ir,{user:a,onSignOut:r})})]})}),n.jsxs("div",{className:"lg:pl-64",children:[n.jsxs("header",{className:"sticky top-0 z-30 flex items-center justify-between h-16 px-4 bg-white dark:bg-gray-800 border-b dark:border-gray-700 shadow-sm",children:[n.jsxs("div",{className:"flex items-center flex-1",children:[n.jsx("button",{onClick:()=>t(!0),className:"p-2 -ml-2 rounded-md lg:hidden hover:bg-gray-100 dark:hover:bg-gray-700",children:n.jsx(Ds,{className:"w-6 h-6"})}),n.jsx("div",{className:"hidden sm:flex ml-2 lg:ml-0",children:n.jsx(zo,{})}),n.jsx("div",{className:"flex-1 ml-2 sm:ml-4",children:n.jsx($o,{})})]}),n.jsx("div",{className:"lg:hidden",children:n.jsx(Ua,{name:(a==null?void 0:a.full_name)||"User",size:"sm",status:"online"})})]}),n.jsx("main",{className:"p-4 lg:p-6",children:n.jsx(jn,{})})]})]})}function Go(){var x,N;const[e,t]=s.useState(""),[a,r]=s.useState(""),[i,o]=s.useState(""),[c,l]=s.useState(!1),{signIn:u}=jt(),v=kn(),j=((N=(x=la().state)==null?void 0:x.from)==null?void 0:N.pathname)||"/dashboard";async function m(w){w.preventDefault(),o(""),l(!0);try{const{error:g}=await u(e,a);g?o(g.message):v(j,{replace:!0})}catch{o("An unexpected error occurred")}finally{l(!1)}}return n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-center text-3xl font-bold text-gray-900 dark:text-white",children:"Minuta Canvas"}),n.jsx("h2",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Document Processing & Draft Generation"})]}),n.jsx("div",{className:"card p-8",children:n.jsxs("form",{className:"space-y-6",onSubmit:m,children:[i&&n.jsx("div",{className:"p-3 rounded-md bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:i})}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:w=>t(w.target.value),className:"input mt-1",placeholder:"email@example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:a,onChange:w=>r(w.target.value),className:"input mt-1",placeholder:"********"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-500 focus:ring-blue-500 border-gray-300 rounded"}),n.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),n.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-500",children:"Forgot password?"})]}),n.jsx("button",{type:"submit",disabled:c,className:"btn-primary w-full",children:c?n.jsxs("span",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]})})]})})}const Qn=["cases"];function Ko(){const{appUser:e}=jt();return ys({queryKey:Qn,queryFn:async()=>{if(!(e!=null&&e.organization_id))return[];const{data:t,error:a}=await z.from("cases").select("*").eq("organization_id",e.organization_id).order("updated_at",{ascending:!1});if(a)throw console.error("Error fetching cases:",a),a;return t??[]},enabled:!!(e!=null&&e.organization_id)})}function Zo(){const e=rr(),{appUser:t,user:a}=jt();return ws({mutationFn:async r=>{if(!(t!=null&&t.organization_id)||!(a!=null&&a.id))throw new Error("User not authenticated");let i=null;(r.deal_details||r.description||r.notes)&&(i={people:[],properties:[],edges:[],deal:r.deal_details?{type:r.act_type,price:r.deal_details.price,paymentSchedule:r.deal_details.payment_method==="installments"&&r.deal_details.installments_count?{entries:Array.from({length:r.deal_details.installments_count},(u,v)=>({description:`Installment ${v+1}`,percentage:100/r.deal_details.installments_count}))}:void 0}:null,metadata:{description:r.description||null,notes:r.notes||null}});const o={organization_id:t.organization_id,title:r.title,act_type:r.act_type,status:"draft",created_by:a.id,assigned_to:null,canonical_data:i},{data:c,error:l}=await z.from("cases").insert(o).select().single();if(l)throw console.error("Error creating case:",l),l;return c},onSuccess:()=>{e.invalidateQueries({queryKey:Qn})}})}const $r=[{value:"purchase_sale",label:"Purchase & Sale",description:"Transfer of property ownership through sale"},{value:"donation",label:"Donation",description:"Gratuitous transfer of property"},{value:"exchange",label:"Exchange",description:"Swap of properties between parties"},{value:"lease",label:"Lease",description:"Rental agreement for property usage"}];function Xo({currentStep:e,totalSteps:t}){return n.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:Array.from({length:t},(a,r)=>n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${r===e?"w-8 bg-blue-500":r<e?"w-2 bg-blue-500":"w-2 bg-gray-300 dark:bg-gray-600"}`},r))})}const zr={title:"",act_type:"purchase_sale",description:"",price:"",payment_method:"",installments_count:"",notes:""};function Jo({isOpen:e,onClose:t}){const a=Zo(),[r,i]=s.useState(0),[o,c]=s.useState(zr),[l,u]=s.useState({}),v=3,b=s.useCallback((f,k)=>{c(h=>({...h,[f]:k})),l[f]&&u(h=>({...h,[f]:void 0}))},[l]),j=s.useCallback(f=>{const k={};return f===0&&(o.title.trim()||(k.title="Please enter a case title")),f===1&&o.act_type==="purchase_sale"&&(o.price.trim()?isNaN(parseFloat(o.price.replace(/[^0-9.,]/g,"").replace(",",".")))&&(k.price="Please enter a valid price"):k.price="Please enter the sale price"),u(k),Object.keys(k).length===0},[o]),m=s.useCallback(()=>{j(r)&&i(f=>Math.min(f+1,v-1))},[r,j]),x=s.useCallback(()=>{i(f=>Math.max(f-1,0))},[]),N=async()=>{if(j(r))try{const f=o.price?parseFloat(o.price.replace(/[^0-9.,]/g,"").replace(",",".")):void 0;await a.mutateAsync({title:o.title.trim(),act_type:o.act_type,description:o.description.trim()||void 0,deal_details:f?{price:f,payment_method:o.payment_method||void 0,installments_count:o.installments_count?parseInt(o.installments_count):void 0}:void 0,notes:o.notes.trim()||void 0}),w()}catch(f){console.error("Error creating case:",f),u({title:"Failed to create case. Please try again."})}},w=s.useCallback(()=>{c(zr),i(0),u({}),t()},[t]),g=s.useCallback(f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),r<v-1?m():N())},[r,m]),p=()=>{var f;switch(r){case 0:return n.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center mb-3",children:n.jsx(Ee,{className:"w-6 h-6 text-blue-500"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Basic Information"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Start by providing the case title and type"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"case-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Case Title ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{id:"case-title",type:"text",value:o.title,onChange:k=>b("title",k.target.value),onKeyDown:g,placeholder:"e.g., Property Sale - 123 Main Street",className:`input ${l.title?"input-error":""}`,autoFocus:!0}),l.title&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.title})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Act Type ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:$r.map(k=>n.jsxs("button",{type:"button",onClick:()=>b("act_type",k.value),className:`p-3 rounded-lg border-2 text-left transition-all ${o.act_type===k.value?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:k.label}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:k.description})]},k.value))})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"case-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Description ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("textarea",{id:"case-description",value:o.description,onChange:k=>b("description",k.target.value),placeholder:"Brief description of this case...",rows:3,className:"input resize-none"})]})]},"step-0");case 1:return n.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-3",children:n.jsx(Bn,{className:"w-6 h-6 text-green-500"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Deal Details"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:o.act_type==="purchase_sale"?"Enter the sale price and payment terms":o.act_type==="lease"?"Enter the rental terms":"Enter any financial details"})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"case-price",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:[o.act_type==="lease"?"Monthly Rent":"Price"," ",o.act_type==="purchase_sale"&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400",children:"R$"}),n.jsx("input",{id:"case-price",type:"text",value:o.price,onChange:k=>b("price",k.target.value),onKeyDown:g,placeholder:"0,00",className:`input pl-10 ${l.price?"input-error":""}`})]}),l.price&&n.jsx("p",{className:"mt-1 text-sm text-red-500",children:l.price})]}),o.act_type==="purchase_sale"&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>b("payment_method","full"),className:`flex-1 p-3 rounded-lg border-2 text-center transition-all ${o.payment_method==="full"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Full Payment"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Single payment"})]}),n.jsxs("button",{type:"button",onClick:()=>b("payment_method","installments"),className:`flex-1 p-3 rounded-lg border-2 text-center transition-all ${o.payment_method==="installments"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300"}`,children:[n.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Installments"}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:"Multiple payments"})]})]})]}),o.payment_method==="installments"&&n.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[n.jsx("label",{htmlFor:"installments-count",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Number of Installments"}),n.jsx("input",{id:"installments-count",type:"number",min:"2",max:"360",value:o.installments_count,onChange:k=>b("installments_count",k.target.value),onKeyDown:g,placeholder:"e.g., 12",className:"input"})]})]},"step-1");case 2:return n.jsxs(A.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"mx-auto w-12 h-12 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center mb-3",children:n.jsx(Hn,{className:"w-6 h-6 text-purple-500"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Additional Notes"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Add any relevant notes or observations"})]}),n.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 space-y-2",children:[n.jsx("h4",{className:"font-medium text-gray-900 dark:text-white text-sm",children:"Case Summary"}),n.jsxs("div",{className:"text-sm space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Title:"}),n.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:o.title||"-"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Type:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:(f=$r.find(k=>k.value===o.act_type))==null?void 0:f.label})]}),o.price&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Price:"}),n.jsxs("span",{className:"text-gray-900 dark:text-white",children:["R$ ",o.price]})]}),o.payment_method&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Payment:"}),n.jsx("span",{className:"text-gray-900 dark:text-white",children:o.payment_method==="full"?"Full Payment":`${o.installments_count||"?"}x Installments`})]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"case-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Notes ",n.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),n.jsx("textarea",{id:"case-notes",value:o.notes,onChange:k=>b("notes",k.target.value),placeholder:"Any additional information or special conditions...",rows:4,className:"input resize-none"})]})]},"step-2");default:return null}};return n.jsx(ie,{children:e&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/50",onClick:w}),n.jsxs(A.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{type:"spring",damping:25,stiffness:300},className:"card relative shadow-xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Create New Case"}),n.jsx("button",{onClick:w,className:"p-1 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:n.jsx(ca,{className:"w-5 h-5"})})]}),n.jsx(Xo,{currentStep:r,totalSteps:v}),n.jsx(ie,{mode:"wait",children:p()}),n.jsxs("div",{className:"mt-6 flex justify-between gap-3",children:[n.jsx("div",{children:r>0&&n.jsxs("button",{onClick:x,className:"btn-secondary",disabled:a.isPending,children:[n.jsx($n,{className:"w-4 h-4 mr-2"}),"Back"]})}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{onClick:w,className:"btn-secondary",disabled:a.isPending,children:"Cancel"}),r<v-1?n.jsxs("button",{onClick:m,className:"btn-primary",children:["Next",n.jsx(zn,{className:"w-4 h-4 ml-2"})]}):n.jsx("button",{onClick:N,className:"btn-primary",disabled:a.isPending,children:a.isPending?n.jsxs(n.Fragment,{children:[n.jsx(ae,{className:"w-5 h-5 mr-2 animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(As,{className:"w-5 h-5 mr-2"}),"Create Case"]})})]})]})]})]})})}function me(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function at(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Yn=6048e5,el=864e5,Vn=6e4,Gn=36e5;let tl={};function da(){return tl}function Pt(e,t){var l,u,v,b;const a=da(),r=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??a.weekStartsOn??((b=(v=a.locale)==null?void 0:v.options)==null?void 0:b.weekStartsOn)??0,i=me(e),o=i.getDay(),c=(o<r?7:0)+o-r;return i.setDate(i.getDate()-c),i.setHours(0,0,0,0),i}function na(e){return Pt(e,{weekStartsOn:1})}function Kn(e){const t=me(e),a=t.getFullYear(),r=at(e,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const i=na(r),o=at(e,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const c=na(o);return t.getTime()>=i.getTime()?a+1:t.getTime()>=c.getTime()?a:a-1}function qr(e){const t=me(e);return t.setHours(0,0,0,0),t}function Wr(e){const t=me(e),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+e-+a}function al(e,t){const a=qr(e),r=qr(t),i=+a-Wr(a),o=+r-Wr(r);return Math.round((i-o)/el)}function rl(e){const t=Kn(e),a=at(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),na(a)}function nl(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Zn(e){if(!nl(e)&&typeof e!="number")return!1;const t=me(e);return!isNaN(Number(t))}function il(e){const t=me(e),a=at(e,0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a}const sl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ol=(e,t,a)=>{let r;const i=sl[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function ct(e){return(t={})=>{const a=t.width?String(t.width):e.defaultWidth;return e.formats[a]||e.formats[e.defaultWidth]}}const ll={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cl={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ul={date:ct({formats:ll,defaultWidth:"full"}),time:ct({formats:cl,defaultWidth:"full"}),dateTime:ct({formats:dl,defaultWidth:"full"})},pl={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ml=(e,t,a,r)=>pl[e];function ve(e){return(t,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const c=e.defaultFormattingWidth||e.defaultWidth,l=a!=null&&a.width?String(a.width):c;i=e.formattingValues[l]||e.formattingValues[c]}else{const c=e.defaultWidth,l=a!=null&&a.width?String(a.width):e.defaultWidth;i=e.values[l]||e.values[c]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const hl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fl={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gl={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yl=(e,t)=>{const a=Number(e),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},wl={ordinalNumber:yl,era:ve({values:hl,defaultWidth:"wide"}),quarter:ve({values:fl,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ve({values:xl,defaultWidth:"wide"}),day:ve({values:gl,defaultWidth:"wide"}),dayPeriod:ve({values:vl,defaultWidth:"wide",formattingValues:bl,defaultFormattingWidth:"wide"})};function be(e){return(t,a={})=>{const r=a.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const c=o[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?jl(l,j=>j.test(c)):kl(l,j=>j.test(c));let v;v=e.valueCallback?e.valueCallback(u):u,v=a.valueCallback?a.valueCallback(v):v;const b=t.slice(c.length);return{value:v,rest:b}}}function kl(e,t){for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)&&t(e[a]))return a}function jl(e,t){for(let a=0;a<e.length;a++)if(t(e[a]))return a}function Xn(e){return(t,a={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let c=e.valueCallback?e.valueCallback(o[0]):o[0];c=a.valueCallback?a.valueCallback(c):c;const l=t.slice(i.length);return{value:c,rest:l}}}const Nl=/^(\d+)(th|st|nd|rd)?/i,Cl=/\d+/i,El={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sl={any:[/^b/i,/^(a|c)/i]},Ol={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dl={any:[/1/i,/2/i,/3/i,/4/i]},Pl={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ml={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Rl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fl={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_l={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Al={ordinalNumber:Xn({matchPattern:Nl,parsePattern:Cl,valueCallback:e=>parseInt(e,10)}),era:be({matchPatterns:El,defaultMatchWidth:"wide",parsePatterns:Sl,defaultParseWidth:"any"}),quarter:be({matchPatterns:Ol,defaultMatchWidth:"wide",parsePatterns:Dl,defaultParseWidth:"any",valueCallback:e=>e+1}),month:be({matchPatterns:Pl,defaultMatchWidth:"wide",parsePatterns:Ml,defaultParseWidth:"any"}),day:be({matchPatterns:Rl,defaultMatchWidth:"wide",parsePatterns:Fl,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:_l,defaultMatchWidth:"any",parsePatterns:Tl,defaultParseWidth:"any"})},Ll={code:"en-US",formatDistance:ol,formatLong:ul,formatRelative:ml,localize:wl,match:Al,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Il(e){const t=me(e);return al(t,il(t))+1}function $l(e){const t=me(e),a=+na(t)-+rl(t);return Math.round(a/Yn)+1}function Jn(e,t){var b,j,m,x;const a=me(e),r=a.getFullYear(),i=da(),o=(t==null?void 0:t.firstWeekContainsDate)??((j=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:j.firstWeekContainsDate)??i.firstWeekContainsDate??((x=(m=i.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,c=at(e,0);c.setFullYear(r+1,0,o),c.setHours(0,0,0,0);const l=Pt(c,t),u=at(e,0);u.setFullYear(r,0,o),u.setHours(0,0,0,0);const v=Pt(u,t);return a.getTime()>=l.getTime()?r+1:a.getTime()>=v.getTime()?r:r-1}function zl(e,t){var l,u,v,b;const a=da(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(v=a.locale)==null?void 0:v.options)==null?void 0:b.firstWeekContainsDate)??1,i=Jn(e,t),o=at(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Pt(o,t)}function ql(e,t){const a=me(e),r=+Pt(a,t)-+zl(a,t);return Math.round(r/Yn)+1}function $(e,t){const a=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return a+r}const Oe={y(e,t){const a=e.getFullYear(),r=a>0?a:1-a;return $(t==="yy"?r%100:r,t.length)},M(e,t){const a=e.getMonth();return t==="M"?String(a+1):$(a+1,2)},d(e,t){return $(e.getDate(),t.length)},a(e,t){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(e,t){return $(e.getHours()%12||12,t.length)},H(e,t){return $(e.getHours(),t.length)},m(e,t){return $(e.getMinutes(),t.length)},s(e,t){return $(e.getSeconds(),t.length)},S(e,t){const a=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,a-3));return $(i,t.length)}},lt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Br={G:function(e,t,a){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})}},y:function(e,t,a){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return a.ordinalNumber(i,{unit:"year"})}return Oe.y(e,t)},Y:function(e,t,a,r){const i=Jn(e,r),o=i>0?i:1-i;if(t==="YY"){const c=o%100;return $(c,2)}return t==="Yo"?a.ordinalNumber(o,{unit:"year"}):$(o,t.length)},R:function(e,t){const a=Kn(e);return $(a,t.length)},u:function(e,t){const a=e.getFullYear();return $(a,t.length)},Q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return $(r,2);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,a){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return $(r,2);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,a){const r=e.getMonth();switch(t){case"M":case"MM":return Oe.M(e,t);case"Mo":return a.ordinalNumber(r+1,{unit:"month"});case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,a){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return $(r+1,2);case"Lo":return a.ordinalNumber(r+1,{unit:"month"});case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,a,r){const i=ql(e,r);return t==="wo"?a.ordinalNumber(i,{unit:"week"}):$(i,t.length)},I:function(e,t,a){const r=$l(e);return t==="Io"?a.ordinalNumber(r,{unit:"week"}):$(r,t.length)},d:function(e,t,a){return t==="do"?a.ordinalNumber(e.getDate(),{unit:"date"}):Oe.d(e,t)},D:function(e,t,a){const r=Il(e);return t==="Do"?a.ordinalNumber(r,{unit:"dayOfYear"}):$(r,t.length)},E:function(e,t,a){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,a,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return $(o,2);case"eo":return a.ordinalNumber(o,{unit:"day"});case"eee":return a.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(i,{width:"short",context:"formatting"});case"eeee":default:return a.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,a,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return $(o,t.length);case"co":return a.ordinalNumber(o,{unit:"day"});case"ccc":return a.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(i,{width:"narrow",context:"standalone"});case"cccccc":return a.day(i,{width:"short",context:"standalone"});case"cccc":default:return a.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,a){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return $(i,t.length);case"io":return a.ordinalNumber(i,{unit:"day"});case"iii":return a.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(r,{width:"short",context:"formatting"});case"iiii":default:return a.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,a){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,a){const r=e.getHours();let i;switch(r===12?i=lt.noon:r===0?i=lt.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,a){const r=e.getHours();let i;switch(r>=17?i=lt.evening:r>=12?i=lt.afternoon:r>=4?i=lt.morning:i=lt.night,t){case"B":case"BB":case"BBB":return a.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,a){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),a.ordinalNumber(r,{unit:"hour"})}return Oe.h(e,t)},H:function(e,t,a){return t==="Ho"?a.ordinalNumber(e.getHours(),{unit:"hour"}):Oe.H(e,t)},K:function(e,t,a){const r=e.getHours()%12;return t==="Ko"?a.ordinalNumber(r,{unit:"hour"}):$(r,t.length)},k:function(e,t,a){let r=e.getHours();return r===0&&(r=24),t==="ko"?a.ordinalNumber(r,{unit:"hour"}):$(r,t.length)},m:function(e,t,a){return t==="mo"?a.ordinalNumber(e.getMinutes(),{unit:"minute"}):Oe.m(e,t)},s:function(e,t,a){return t==="so"?a.ordinalNumber(e.getSeconds(),{unit:"second"}):Oe.s(e,t)},S:function(e,t){return Oe.S(e,t)},X:function(e,t,a){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Hr(r);case"XXXX":case"XX":return qe(r);case"XXXXX":case"XXX":default:return qe(r,":")}},x:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"x":return Hr(r);case"xxxx":case"xx":return qe(r);case"xxxxx":case"xxx":default:return qe(r,":")}},O:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ur(r,":");case"OOOO":default:return"GMT"+qe(r,":")}},z:function(e,t,a){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ur(r,":");case"zzzz":default:return"GMT"+qe(r,":")}},t:function(e,t,a){const r=Math.trunc(e.getTime()/1e3);return $(r,t.length)},T:function(e,t,a){const r=e.getTime();return $(r,t.length)}};function Ur(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?a+String(i):a+String(i)+t+$(o,2)}function Hr(e,t){return e%60===0?(e>0?"-":"+")+$(Math.abs(e)/60,2):qe(e,t)}function qe(e,t=""){const a=e>0?"-":"+",r=Math.abs(e),i=$(Math.trunc(r/60),2),o=$(r%60,2);return a+i+t+o}const Qr=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ei=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Wl=(e,t)=>{const a=e.match(/(P+)(p+)?/)||[],r=a[1],i=a[2];if(!i)return Qr(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Qr(r,t)).replace("{{time}}",ei(i,t))},Bl={p:ei,P:Wl},Ul=/^D+$/,Hl=/^Y+$/,Ql=["D","DD","YY","YYYY"];function Yl(e){return Ul.test(e)}function Vl(e){return Hl.test(e)}function Gl(e,t,a){const r=Kl(e,t,a);if(console.warn(r),Ql.includes(e))throw new RangeError(r)}function Kl(e,t,a){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zl=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Xl=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jl=/^'([^]*?)'?$/,ec=/''/g,tc=/[a-zA-Z]/;function ac(e,t,a){var b,j,m,x,N,w,g,p;const r=da(),i=(a==null?void 0:a.locale)??r.locale??Ll,o=(a==null?void 0:a.firstWeekContainsDate)??((j=(b=a==null?void 0:a.locale)==null?void 0:b.options)==null?void 0:j.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(m=r.locale)==null?void 0:m.options)==null?void 0:x.firstWeekContainsDate)??1,c=(a==null?void 0:a.weekStartsOn)??((w=(N=a==null?void 0:a.locale)==null?void 0:N.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((p=(g=r.locale)==null?void 0:g.options)==null?void 0:p.weekStartsOn)??0,l=me(e);if(!Zn(l))throw new RangeError("Invalid time value");let u=t.match(Xl).map(f=>{const k=f[0];if(k==="p"||k==="P"){const h=Bl[k];return h(f,i.formatLong)}return f}).join("").match(Zl).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const k=f[0];if(k==="'")return{isToken:!1,value:rc(f)};if(Br[k])return{isToken:!0,value:f};if(k.match(tc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(u=i.localize.preprocessor(l,u));const v={firstWeekContainsDate:o,weekStartsOn:c,locale:i};return u.map(f=>{if(!f.isToken)return f.value;const k=f.value;(!(a!=null&&a.useAdditionalWeekYearTokens)&&Vl(k)||!(a!=null&&a.useAdditionalDayOfYearTokens)&&Yl(k))&&Gl(k,t,String(e));const h=Br[k[0]];return h(l,k,i.localize,v)}).join("")}function rc(e){const t=e.match(Jl);return t?t[1].replace(ec,"'"):e}function nc(e,t){const r=lc(e);let i;if(r.date){const u=cc(r.date,2);i=dc(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let c=0,l;if(r.time&&(c=uc(r.time),isNaN(c)))return new Date(NaN);if(r.timezone){if(l=pc(r.timezone),isNaN(l))return new Date(NaN)}else{const u=new Date(o+c),v=new Date(0);return v.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),v.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),v}return new Date(o+c+l)}const Yt={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ic=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sc=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,oc=/^([+-])(\d{2})(?::?(\d{2}))?$/;function lc(e){const t={},a=e.split(Yt.dateTimeDelimiter);let r;if(a.length>2)return t;if(/:/.test(a[0])?r=a[0]:(t.date=a[0],r=a[1],Yt.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Yt.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=Yt.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function cc(e,t){const a=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(a);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function dc(e,t){if(t===null)return new Date(NaN);const a=e.match(ic);if(!a)return new Date(NaN);const r=!!a[4],i=Et(a[1]),o=Et(a[2])-1,c=Et(a[3]),l=Et(a[4]),u=Et(a[5])-1;if(r)return gc(t,l,u)?mc(t,l,u):new Date(NaN);{const v=new Date(0);return!fc(t,o,c)||!xc(t,i)?new Date(NaN):(v.setUTCFullYear(t,o,Math.max(i,c)),v)}}function Et(e){return e?parseInt(e):1}function uc(e){const t=e.match(sc);if(!t)return NaN;const a=wa(t[1]),r=wa(t[2]),i=wa(t[3]);return vc(a,r,i)?a*Gn+r*Vn+i*1e3:NaN}function wa(e){return e&&parseFloat(e.replace(",","."))||0}function pc(e){if(e==="Z")return 0;const t=e.match(oc);if(!t)return 0;const a=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return bc(r,i)?a*(r*Gn+i*Vn):NaN}function mc(e,t,a){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,o=(t-1)*7+a+1-i;return r.setUTCDate(r.getUTCDate()+o),r}const hc=[31,null,31,30,31,30,31,31,30,31,30,31];function ti(e){return e%400===0||e%4===0&&e%100!==0}function fc(e,t,a){return t>=0&&t<=11&&a>=1&&a<=(hc[t]||(ti(e)?29:28))}function xc(e,t){return t>=1&&t<=(ti(e)?366:365)}function gc(e,t,a){return t>=1&&t<=53&&a>=0&&a<=6}function vc(e,t,a){return e===24?t===0&&a===0:a>=0&&a<60&&t>=0&&t<60&&e>=0&&e<25}function bc(e,t){return t>=0&&t<=59}const yc={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},wc=(e,t,a)=>{let r;const i=yc[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",String(t)),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"em "+r:"h "+r:r},kc={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},jc={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Nc={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cc={date:ct({formats:kc,defaultWidth:"full"}),time:ct({formats:jc,defaultWidth:"full"}),dateTime:ct({formats:Nc,defaultWidth:"full"})},Ec={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Sc=(e,t,a,r)=>{const i=Ec[e];return typeof i=="function"?i(t):i},Oc={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Dc={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Pc={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Mc={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Rc={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Fc={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},_c=(e,t)=>{const a=Number(e);return(t==null?void 0:t.unit)==="week"?a+"":a+""},Tc={ordinalNumber:_c,era:ve({values:Oc,defaultWidth:"wide"}),quarter:ve({values:Dc,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ve({values:Pc,defaultWidth:"wide"}),day:ve({values:Mc,defaultWidth:"wide"}),dayPeriod:ve({values:Rc,defaultWidth:"wide",formattingValues:Fc,defaultFormattingWidth:"wide"})},Ac=/^(\d+)[o]?/i,Lc=/\d+/i,Ic={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},$c={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},zc={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},qc={any:[/1/i,/2/i,/3/i,/4/i]},Wc={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Bc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Uc={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Hc={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Qc={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Yc={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Vc={ordinalNumber:Xn({matchPattern:Ac,parsePattern:Lc,valueCallback:e=>parseInt(e,10)}),era:be({matchPatterns:Ic,defaultMatchWidth:"wide",parsePatterns:$c,defaultParseWidth:"any"}),quarter:be({matchPatterns:zc,defaultMatchWidth:"wide",parsePatterns:qc,defaultParseWidth:"any",valueCallback:e=>e+1}),month:be({matchPatterns:Wc,defaultMatchWidth:"wide",parsePatterns:Bc,defaultParseWidth:"any"}),day:be({matchPatterns:Uc,defaultMatchWidth:"wide",parsePatterns:Hc,defaultParseWidth:"any"}),dayPeriod:be({matchPatterns:Qc,defaultMatchWidth:"any",parsePatterns:Yc,defaultParseWidth:"any"})},Gc={code:"pt-BR",formatDistance:wc,formatLong:Cc,formatRelative:Sc,localize:Tc,match:Vc,options:{weekStartsOn:0,firstWeekContainsDate:1}},Kc={full:"d 'de' MMMM 'de' yyyy",short:"dd/MM/yyyy",medium:"d 'de' MMM 'de' yyyy",dateTime:"dd/MM/yyyy HH:mm",fullDateTime:"d 'de' MMMM 'de' yyyy 's' HH:mm",time:"HH:mm",monthYear:"MMMM 'de' yyyy",dayMonth:"d 'de' MMMM"};function Zc(e,t="medium"){if(!e)return"";const a=typeof e=="string"?nc(e):e;return Zn(a)?ac(a,Kc[t],{locale:Gc}):""}const Xc={draft:"badge badge-info",processing:"badge badge-warning",review:"badge badge-warning",approved:"badge badge-success",archived:"badge bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},Jc={draft:"Draft",processing:"Processing",review:"Review",approved:"Approved",archived:"Archived"},ed={purchase_sale:"Purchase & Sale",donation:"Donation",exchange:"Exchange",lease:"Lease"};function td(){return n.jsxs("div",{className:"card p-4 animate-pulse",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-2/3"}),n.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-700 rounded w-16"})]}),n.jsx("div",{className:"mt-2 h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/3"}),n.jsx("div",{className:"mt-3 h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})}function ad(){const{data:e=[],isLoading:t,isError:a,error:r,refetch:i}=Ko(),[o,c]=s.useState(!1);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Cases"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your document cases and drafts"})]}),n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[n.jsx(_r,{className:"w-5 h-5 mr-2"}),"New Case"]})]}),t?n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[...Array(6)].map((l,u)=>n.jsx(td,{},u))}):a?n.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 sm:p-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:n.jsx(ta,{className:"h-8 w-8 text-red-500 dark:text-red-400"})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Failed to load cases"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:r instanceof Error?r.message:"An unexpected error occurred"}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>i(),className:"btn-secondary",children:[n.jsx(ae,{className:"w-5 h-5 mr-2"}),"Try Again"]})})]})}):e.length===0?n.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"card p-8 sm:p-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:n.jsx(co,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"No cases yet"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Get started by creating a new case to manage your notary documents and drafts."}),n.jsx("div",{className:"mt-6",children:n.jsxs("button",{onClick:()=>c(!0),className:"btn-primary",children:[n.jsx(_r,{className:"w-5 h-5 mr-2"}),"Create Your First Case"]})})]})}):n.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map((l,u)=>n.jsx(A.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.05},children:n.jsxs(Lt,{to:`/case/${l.id}`,className:"card-hover block p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-2",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white truncate flex-1",children:l.title}),n.jsx("span",{className:Xc[l.status],children:Jc[l.status]})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:ed[l.act_type]||l.act_type.replace("_"," ")}),n.jsxs("p",{className:"mt-3 text-xs text-gray-400 dark:text-gray-500",children:["Created ",Zc(l.created_at,"medium")]})]})},l.id))}),n.jsx(Jo,{isOpen:o,onClose:()=>c(!1)})]})}function rd(){const{caseId:e}=Se();return n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Case Overview"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Case ID: ",e]}),n.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Case overview content will be implemented here."})]})}var ai={exports:{}},nd="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",id=nd,sd=id;function ri(){}function ni(){}ni.resetWarningCache=ri;var od=function(){function e(r,i,o,c,l,u){if(u!==sd){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}e.isRequired=e;function t(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ni,resetWarningCache:ri};return a.PropTypes=a,a};ai.exports=od();var ld=ai.exports;const W=Si(ld),cd=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function kt(e,t,a){const r=dd(e),{webkitRelativePath:i}=e,o=typeof t=="string"?t:typeof i=="string"&&i.length>0?i:`./${e.name}`;return typeof r.path!="string"&&Yr(r,"path",o),Yr(r,"relativePath",o),r}function dd(e){const{name:t}=e;if(t&&t.lastIndexOf(".")!==-1&&!e.type){const r=t.split(".").pop().toLowerCase(),i=cd.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}function Yr(e,t,a){Object.defineProperty(e,t,{value:a,writable:!1,configurable:!1,enumerable:!0})}const ud=[".DS_Store","Thumbs.db"];function pd(e){return rt(this,void 0,void 0,function*(){return ia(e)&&md(e.dataTransfer)?gd(e.dataTransfer,e.type):hd(e)?fd(e):Array.isArray(e)&&e.every(t=>"getFile"in t&&typeof t.getFile=="function")?xd(e):[]})}function md(e){return ia(e)}function hd(e){return ia(e)&&ia(e.target)}function ia(e){return typeof e=="object"&&e!==null}function fd(e){return Ha(e.target.files).map(t=>kt(t))}function xd(e){return rt(this,void 0,void 0,function*(){return(yield Promise.all(e.map(a=>a.getFile()))).map(a=>kt(a))})}function gd(e,t){return rt(this,void 0,void 0,function*(){if(e.items){const a=Ha(e.items).filter(i=>i.kind==="file");if(t!=="drop")return a;const r=yield Promise.all(a.map(vd));return Vr(ii(r))}return Vr(Ha(e.files).map(a=>kt(a)))})}function Vr(e){return e.filter(t=>ud.indexOf(t.name)===-1)}function Ha(e){if(e===null)return[];const t=[];for(let a=0;a<e.length;a++){const r=e[a];t.push(r)}return t}function vd(e){if(typeof e.webkitGetAsEntry!="function")return Gr(e);const t=e.webkitGetAsEntry();return t&&t.isDirectory?si(t):Gr(e,t)}function ii(e){return e.reduce((t,a)=>[...t,...Array.isArray(a)?ii(a):[a]],[])}function Gr(e,t){return rt(this,void 0,void 0,function*(){var a;if(globalThis.isSecureContext&&typeof e.getAsFileSystemHandle=="function"){const o=yield e.getAsFileSystemHandle();if(o===null)throw new Error(`${e} is not a File`);if(o!==void 0){const c=yield o.getFile();return c.handle=o,kt(c)}}const r=e.getAsFile();if(!r)throw new Error(`${e} is not a File`);return kt(r,(a=t==null?void 0:t.fullPath)!==null&&a!==void 0?a:void 0)})}function bd(e){return rt(this,void 0,void 0,function*(){return e.isDirectory?si(e):yd(e)})}function si(e){const t=e.createReader();return new Promise((a,r)=>{const i=[];function o(){t.readEntries(c=>rt(this,void 0,void 0,function*(){if(c.length){const l=Promise.all(c.map(bd));i.push(l),o()}else try{const l=yield Promise.all(i);a(l)}catch(l){r(l)}}),c=>{r(c)})}o()})}function yd(e){return rt(this,void 0,void 0,function*(){return new Promise((t,a)=>{e.file(r=>{const i=kt(r,e.fullPath);t(i)},r=>{a(r)})})})}var ka=function(e,t){if(e&&t){var a=Array.isArray(t)?t:t.split(",");if(a.length===0)return!0;var r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return a.some(function(c){var l=c.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?o===l.replace(/\/.*$/,""):i===l})}return!0};function Kr(e){return jd(e)||kd(e)||li(e)||wd()}function wd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jd(e){if(Array.isArray(e))return Qa(e)}function Zr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Xr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Zr(Object(a),!0).forEach(function(r){oi(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Zr(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function oi(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mt(e,t){return Ed(e)||Cd(e,t)||li(e,t)||Nd()}function Nd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function li(e,t){if(e){if(typeof e=="string")return Qa(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Qa(e,t)}}function Qa(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Cd(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],i=!0,o=!1,c,l;try{for(a=a.call(e);!(i=(c=a.next()).done)&&(r.push(c.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&a.return!=null&&a.return()}finally{if(o)throw l}}return r}}function Ed(e){if(Array.isArray(e))return e}var Sd=typeof ka=="function"?ka:ka.default,Od="file-invalid-type",Dd="file-too-large",Pd="file-too-small",Md="too-many-files",Rd=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",a=t.split(","),r=a.length>1?"one of ".concat(a.join(", ")):a[0];return{code:Od,message:"File type must be ".concat(r)}},Jr=function(t){return{code:Dd,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},en=function(t){return{code:Pd,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Fd={code:Md,message:"Too many files"};function ci(e,t){var a=e.type==="application/x-moz-file"||Sd(e,t);return[a,a?null:Rd(t)]}function di(e,t,a){if(We(e.size))if(We(t)&&We(a)){if(e.size>a)return[!1,Jr(a)];if(e.size<t)return[!1,en(t)]}else{if(We(t)&&e.size<t)return[!1,en(t)];if(We(a)&&e.size>a)return[!1,Jr(a)]}return[!0,null]}function We(e){return e!=null}function _d(e){var t=e.files,a=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,c=e.maxFiles,l=e.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(u){var v=ci(u,a),b=Mt(v,1),j=b[0],m=di(u,r,i),x=Mt(m,1),N=x[0],w=l?l(u):null;return j&&N&&!w})}function sa(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Vt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function tn(e){e.preventDefault()}function Td(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Ad(e){return e.indexOf("Edge/")!==-1}function Ld(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Td(e)||Ad(e)}function he(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),c=1;c<i;c++)o[c-1]=arguments[c];return t.some(function(l){return!sa(r)&&l&&l.apply(void 0,[r].concat(o)),sa(r)})}}function Id(){return"showOpenFilePicker"in window}function $d(e){if(We(e)){var t=Object.entries(e).filter(function(a){var r=Mt(a,2),i=r[0],o=r[1],c=!0;return ui(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(pi))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(a,r){var i=Mt(r,2),o=i[0],c=i[1];return Xr(Xr({},a),{},oi({},o,c))},{});return[{description:"Files",accept:t}]}return e}function zd(e){if(We(e))return Object.entries(e).reduce(function(t,a){var r=Mt(a,2),i=r[0],o=r[1];return[].concat(Kr(t),[i],Kr(o))},[]).filter(function(t){return ui(t)||pi(t)}).join(",")}function qd(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Wd(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ui(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||e==="application/*"||/\w+\/[-+.\w]+/g.test(e)}function pi(e){return/^.*\.[\w]+$/.test(e)}var Bd=["children"],Ud=["open"],Hd=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Qd=["refKey","onChange","onClick"];function Yd(e){return Kd(e)||Gd(e)||mi(e)||Vd()}function Vd(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gd(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kd(e){if(Array.isArray(e))return Ya(e)}function ja(e,t){return Jd(e)||Xd(e,t)||mi(e,t)||Zd()}function Zd(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mi(e,t){if(e){if(typeof e=="string")return Ya(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Ya(e,t)}}function Ya(e,t){(t==null||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function Xd(e,t){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var r=[],i=!0,o=!1,c,l;try{for(a=a.call(e);!(i=(c=a.next()).done)&&(r.push(c.value),!(t&&r.length===t));i=!0);}catch(u){o=!0,l=u}finally{try{!i&&a.return!=null&&a.return()}finally{if(o)throw l}}return r}}function Jd(e){if(Array.isArray(e))return e}function an(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?an(Object(a),!0).forEach(function(r){Va(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):an(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Va(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oa(e,t){if(e==null)return{};var a=eu(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eu(e,t){if(e==null)return{};var a={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(a[i]=e[i]);return a}var nr=s.forwardRef(function(e,t){var a=e.children,r=oa(e,Bd),i=fi(r),o=i.open,c=oa(i,Ud);return s.useImperativeHandle(t,function(){return{open:o}},[o]),Xa.createElement(s.Fragment,null,a(B(B({},c),{},{open:o})))});nr.displayName="Dropzone";var hi={disabled:!1,getFilesFromEvent:pd,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};nr.defaultProps=hi;nr.propTypes={children:W.func,accept:W.objectOf(W.arrayOf(W.string)),multiple:W.bool,preventDropOnDocument:W.bool,noClick:W.bool,noKeyboard:W.bool,noDrag:W.bool,noDragEventsBubbling:W.bool,minSize:W.number,maxSize:W.number,maxFiles:W.number,disabled:W.bool,getFilesFromEvent:W.func,onFileDialogCancel:W.func,onFileDialogOpen:W.func,useFsAccessApi:W.bool,autoFocus:W.bool,onDragEnter:W.func,onDragLeave:W.func,onDragOver:W.func,onDrop:W.func,onDropAccepted:W.func,onDropRejected:W.func,onError:W.func,validator:W.func};var Ga={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function fi(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=B(B({},hi),e),a=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,l=t.multiple,u=t.maxFiles,v=t.onDragEnter,b=t.onDragLeave,j=t.onDragOver,m=t.onDrop,x=t.onDropAccepted,N=t.onDropRejected,w=t.onFileDialogCancel,g=t.onFileDialogOpen,p=t.useFsAccessApi,f=t.autoFocus,k=t.preventDropOnDocument,h=t.noClick,M=t.noKeyboard,O=t.noDrag,S=t.noDragEventsBubbling,y=t.onError,E=t.validator,C=s.useMemo(function(){return zd(a)},[a]),_=s.useMemo(function(){return $d(a)},[a]),U=s.useMemo(function(){return typeof g=="function"?g:rn},[g]),Y=s.useMemo(function(){return typeof w=="function"?w:rn},[w]),q=s.useRef(null),se=s.useRef(null),vi=s.useReducer(tu,Ga),ir=ja(vi,2),ua=ir[0],re=ir[1],bi=ua.isFocused,sr=ua.isFileDialogActive,It=s.useRef(typeof window<"u"&&window.isSecureContext&&p&&Id()),or=function(){!It.current&&sr&&setTimeout(function(){if(se.current){var F=se.current.files;F.length||(re({type:"closeDialog"}),Y())}},300)};s.useEffect(function(){return window.addEventListener("focus",or,!1),function(){window.removeEventListener("focus",or,!1)}},[se,sr,Y,It]);var nt=s.useRef([]),lr=function(F){q.current&&q.current.contains(F.target)||(F.preventDefault(),nt.current=[])};s.useEffect(function(){return k&&(document.addEventListener("dragover",tn,!1),document.addEventListener("drop",lr,!1)),function(){k&&(document.removeEventListener("dragover",tn),document.removeEventListener("drop",lr))}},[q,k]),s.useEffect(function(){return!r&&f&&q.current&&q.current.focus(),function(){}},[q,f,r]);var ze=s.useCallback(function(P){y?y(P):console.error(P)},[y]),cr=s.useCallback(function(P){P.preventDefault(),P.persist(),Wt(P),nt.current=[].concat(Yd(nt.current),[P.target]),Vt(P)&&Promise.resolve(i(P)).then(function(F){if(!(sa(P)&&!S)){var Q=F.length,G=Q>0&&_d({files:F,accept:C,minSize:c,maxSize:o,multiple:l,maxFiles:u,validator:E}),ne=Q>0&&!G;re({isDragAccept:G,isDragReject:ne,isDragActive:!0,type:"setDraggedFiles"}),v&&v(P)}}).catch(function(F){return ze(F)})},[i,v,ze,S,C,c,o,l,u,E]),dr=s.useCallback(function(P){P.preventDefault(),P.persist(),Wt(P);var F=Vt(P);if(F&&P.dataTransfer)try{P.dataTransfer.dropEffect="copy"}catch{}return F&&j&&j(P),!1},[j,S]),ur=s.useCallback(function(P){P.preventDefault(),P.persist(),Wt(P);var F=nt.current.filter(function(G){return q.current&&q.current.contains(G)}),Q=F.indexOf(P.target);Q!==-1&&F.splice(Q,1),nt.current=F,!(F.length>0)&&(re({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Vt(P)&&b&&b(P))},[q,b,S]),$t=s.useCallback(function(P,F){var Q=[],G=[];P.forEach(function(ne){var Ct=ci(ne,C),ot=ja(Ct,2),ma=ot[0],ha=ot[1],fa=di(ne,c,o),Bt=ja(fa,2),xa=Bt[0],ga=Bt[1],va=E?E(ne):null;if(ma&&xa&&!va)Q.push(ne);else{var ba=[ha,ga];va&&(ba=ba.concat(va)),G.push({file:ne,errors:ba.filter(function(ji){return ji})})}}),(!l&&Q.length>1||l&&u>=1&&Q.length>u)&&(Q.forEach(function(ne){G.push({file:ne,errors:[Fd]})}),Q.splice(0)),re({acceptedFiles:Q,fileRejections:G,isDragReject:G.length>0,type:"setFiles"}),m&&m(Q,G,F),G.length>0&&N&&N(G,F),Q.length>0&&x&&x(Q,F)},[re,l,C,c,o,u,m,x,N,E]),zt=s.useCallback(function(P){P.preventDefault(),P.persist(),Wt(P),nt.current=[],Vt(P)&&Promise.resolve(i(P)).then(function(F){sa(P)&&!S||$t(F,P)}).catch(function(F){return ze(F)}),re({type:"reset"})},[i,$t,ze,S]),it=s.useCallback(function(){if(It.current){re({type:"openDialog"}),U();var P={multiple:l,types:_};window.showOpenFilePicker(P).then(function(F){return i(F)}).then(function(F){$t(F,null),re({type:"closeDialog"})}).catch(function(F){qd(F)?(Y(F),re({type:"closeDialog"})):Wd(F)?(It.current=!1,se.current?(se.current.value=null,se.current.click()):ze(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ze(F)});return}se.current&&(re({type:"openDialog"}),U(),se.current.value=null,se.current.click())},[re,U,Y,p,$t,ze,_,l]),pr=s.useCallback(function(P){!q.current||!q.current.isEqualNode(P.target)||(P.key===" "||P.key==="Enter"||P.keyCode===32||P.keyCode===13)&&(P.preventDefault(),it())},[q,it]),mr=s.useCallback(function(){re({type:"focus"})},[]),hr=s.useCallback(function(){re({type:"blur"})},[]),fr=s.useCallback(function(){h||(Ld()?setTimeout(it,0):it())},[h,it]),st=function(F){return r?null:F},pa=function(F){return M?null:st(F)},qt=function(F){return O?null:st(F)},Wt=function(F){S&&F.stopPropagation()},yi=s.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=P.refKey,Q=F===void 0?"ref":F,G=P.role,ne=P.onKeyDown,Ct=P.onFocus,ot=P.onBlur,ma=P.onClick,ha=P.onDragEnter,fa=P.onDragOver,Bt=P.onDragLeave,xa=P.onDrop,ga=oa(P,Hd);return B(B(Va({onKeyDown:pa(he(ne,pr)),onFocus:pa(he(Ct,mr)),onBlur:pa(he(ot,hr)),onClick:st(he(ma,fr)),onDragEnter:qt(he(ha,cr)),onDragOver:qt(he(fa,dr)),onDragLeave:qt(he(Bt,ur)),onDrop:qt(he(xa,zt)),role:typeof G=="string"&&G!==""?G:"presentation"},Q,q),!r&&!M?{tabIndex:0}:{}),ga)}},[q,pr,mr,hr,fr,cr,dr,ur,zt,M,O,r]),wi=s.useCallback(function(P){P.stopPropagation()},[]),ki=s.useMemo(function(){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=P.refKey,Q=F===void 0?"ref":F,G=P.onChange,ne=P.onClick,Ct=oa(P,Qd),ot=Va({accept:C,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:st(he(G,zt)),onClick:st(he(ne,wi)),tabIndex:-1},Q,se);return B(B({},ot),Ct)}},[se,a,l,zt,r]);return B(B({},ua),{},{isFocused:bi&&!r,getRootProps:yi,getInputProps:ki,rootRef:q,inputRef:se,open:st(it)})}function tu(e,t){switch(t.type){case"focus":return B(B({},e),{},{isFocused:!0});case"blur":return B(B({},e),{},{isFocused:!1});case"openDialog":return B(B({},Ga),{},{isFileDialogActive:!0});case"closeDialog":return B(B({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return B(B({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return B(B({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections,isDragReject:t.isDragReject});case"reset":return B({},Ga);default:return e}}function rn(){}const au={"application/pdf":[".pdf"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/tiff":[".tiff",".tif"],"image/webp":[".webp"]},Na=10*1024*1024,Ca=20;function ru({caseId:e,onUploadStart:t,onUploadProgress:a,onUploadComplete:r,onUploadError:i,disabled:o=!1}){const[c,l]=s.useState([]),[u,v]=s.useState(new Map),[b,j]=s.useState(!1),m=s.useCallback((O,S)=>{if(S.length>0&&S.forEach(y=>{const E=y.errors.map(C=>C.code==="file-too-large"?`File too large (max ${Na/1024/1024}MB)`:C.code==="file-invalid-type"?"Invalid file type (PDF, JPG, PNG, TIFF, WebP allowed)":C.message);v(C=>{const _=new Map(C);return _.set(y.file.name,{file_name:y.file.name,progress:0,status:"error",error:E.join(", ")}),_})}),O.length>0){const y=O.map(E=>Object.assign(E,{preview:E.type.startsWith("image/")?URL.createObjectURL(E):void 0}));l(E=>[...E,...y].slice(0,Ca)),v(E=>{const C=new Map(E);return y.forEach(_=>{C.has(_.name)||C.set(_.name,{file_name:_.name,progress:0,status:"uploading"})}),C})}},[]),x=s.useCallback(O=>{l(S=>{const y=S.find(E=>E.name===O);return y!=null&&y.preview&&URL.revokeObjectURL(y.preview),S.filter(E=>E.name!==O)}),v(S=>{const y=new Map(S);return y.delete(O),y})},[]),N=s.useCallback(async()=>{if(c.length===0||b)return;j(!0),t==null||t(c);const O=[];for(const S of c){v(y=>{const E=new Map(y);return E.set(S.name,{file_name:S.name,progress:10,status:"uploading"}),E});try{v(Y=>{const q=new Map(Y);return q.set(S.name,{file_name:S.name,progress:30,status:"uploading"}),q});const{path:y,error:E}=await Fi(S,e);if(E||!y)throw new Error((E==null?void 0:E.message)||"Failed to upload file to storage");v(Y=>{const q=new Map(Y);return q.set(S.name,{file_name:S.name,progress:60,status:"uploading"}),q});const{data:C,error:_}=await z.from("documents").insert({case_id:e,storage_path:y,original_name:S.name,mime_type:S.type||"application/octet-stream",file_size:S.size,status:"uploaded",metadata:{}}).select().single();if(_||!C)throw new Error((_==null?void 0:_.message)||"Failed to create document record");v(Y=>{const q=new Map(Y);return q.set(S.name,{file_name:S.name,progress:80,status:"processing"}),q});const{error:U}=await Cn(e,C.id,"ocr");U&&console.warn("Failed to create OCR job:",U),v(Y=>{const q=new Map(Y);return q.set(S.name,{file_name:S.name,progress:100,status:"complete"}),q}),O.push({file_name:S.name,success:!0,document_id:C.id,storage_path:y})}catch(y){const E=y instanceof Error?y.message:"Upload failed";console.error("Upload error:",y),v(C=>{const _=new Map(C);return _.set(S.name,{file_name:S.name,progress:0,status:"error",error:E}),_}),O.push({file_name:S.name,success:!1,error:E})}a==null||a(Array.from(u.values()))}j(!1),r==null||r(O),setTimeout(()=>{l(S=>(S.forEach(y=>{y.preview&&URL.revokeObjectURL(y.preview)}),[]))},2e3)},[c,b,e,t,a,r,u]),w=s.useCallback(()=>{c.forEach(O=>{O.preview&&URL.revokeObjectURL(O.preview)}),l([]),v(new Map)},[c]),{getRootProps:g,getInputProps:p,isDragActive:f,isDragReject:k}=fi({onDrop:m,accept:au,maxSize:Na,maxFiles:Ca,disabled:o||b,multiple:!0}),h=O=>{switch(O){case"complete":return n.jsx(de,{className:"w-5 h-5 text-green-500"});case"error":return n.jsx(ta,{className:"w-5 h-5 text-red-500"});case"processing":return n.jsx(ae,{className:"w-5 h-5 text-blue-500 animate-spin"});default:return n.jsx(ae,{className:"w-5 h-5 text-gray-400 animate-spin"})}},M=O=>O<1024?`${O} B`:O<1024*1024?`${(O/1024).toFixed(1)} KB`:`${(O/(1024*1024)).toFixed(1)} MB`;return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{...g(),className:`
          relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all duration-200
          ${f&&!k?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":k?"border-red-500 bg-red-50 dark:bg-red-900/20":o||b?"border-gray-300 dark:border-gray-600 bg-gray-50 dark:bg-gray-800/50 cursor-not-allowed":"border-gray-300 dark:border-gray-600 hover:border-blue-400 dark:hover:border-blue-500 hover:bg-gray-50 dark:hover:bg-gray-800/50"}
        `,children:[n.jsx("input",{...p()}),n.jsxs(A.div,{animate:{scale:f?1.05:1,y:f?-5:0},transition:{type:"spring",stiffness:300,damping:20},className:"flex flex-col items-center",children:[n.jsx("div",{className:`
              w-16 h-16 rounded-full flex items-center justify-center mb-4
              ${f&&!k?"bg-blue-100 dark:bg-blue-900/30":k?"bg-red-100 dark:bg-red-900/30":"bg-gray-100 dark:bg-gray-700"}
            `,children:n.jsx(Mr,{className:`w-8 h-8 ${f&&!k?"text-blue-500":k?"text-red-500":"text-gray-400 dark:text-gray-500"}`})}),f&&!k?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg font-medium text-blue-600 dark:text-blue-400",children:"Drop files here"}),n.jsx("p",{className:"text-sm text-blue-500 dark:text-blue-400 mt-1",children:"Release to upload"})]}):k?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg font-medium text-red-600 dark:text-red-400",children:"Invalid file type"}),n.jsx("p",{className:"text-sm text-red-500 dark:text-red-400 mt-1",children:"Please use PDF, JPG, PNG, TIFF, or WebP files"})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Drag & drop documents here"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"or click to browse files"}),n.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-3",children:["PDF, JPG, PNG, TIFF, WebP - Max ",Na/1024/1024,"MB per file - Up to ",Ca," files"]})]})]})]}),n.jsx(ie,{children:c.length>0&&n.jsxs(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[c.length," file",c.length!==1?"s":""," selected"]}),n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:w,disabled:b,className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50",children:"Clear all"})})]}),n.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto scrollbar-thin",children:c.map(O=>{const S=u.get(O.name);return n.jsxs(A.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-lg bg-gray-200 dark:bg-gray-700 flex items-center justify-center overflow-hidden",children:O.preview?n.jsx("img",{src:O.preview,alt:O.name,className:"w-full h-full object-cover"}):n.jsx(Zt,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:O.name}),n.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:M(O.size)}),(S==null?void 0:S.status)==="error"&&n.jsx("span",{className:"text-xs text-red-500",children:S.error})]}),S&&S.status!=="error"&&S.status!=="complete"&&n.jsx("div",{className:"mt-2 h-1.5 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:n.jsx(A.div,{initial:{width:0},animate:{width:`${S.progress}%`},className:`h-full rounded-full ${S.status==="processing"?"bg-blue-500":"bg-green-500"}`})})]}),n.jsx("div",{className:"flex-shrink-0",children:S?h(S.status):n.jsx("button",{onClick:()=>x(O.name),disabled:b,className:"p-1 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50",children:n.jsx(ca,{className:"w-5 h-5"})})})]},O.name)})}),n.jsx("div",{className:"flex justify-end gap-3 pt-2",children:n.jsx("button",{onClick:N,disabled:b||c.length===0,className:"btn-primary",children:b?n.jsxs(n.Fragment,{children:[n.jsx(ae,{className:"w-5 h-5 mr-2 animate-spin"}),"Uploading..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Mr,{className:"w-5 h-5 mr-2"}),"Upload ",c.length," file",c.length!==1?"s":""]})})})]})})]})}const xi={},{useDebugValue:nu}=Xa,{useSyncExternalStoreWithSelector:iu}=Ci;let nn=!1;const su=e=>e;function ou(e,t=su,a){(xi?"production":void 0)!=="production"&&a&&!nn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),nn=!0);const r=iu(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a);return nu(r),r}const lu=e=>{(xi?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Ni(e):e,a=(r,i)=>ou(t,r,i);return Object.assign(a,t),a},cu=e=>lu,Ea={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_NAME:"Minuta Canvas",VITE_APP_URL:"http://localhost:5173",VITE_SUPABASE_ANON_KEY:"sb_publishable_tAIEYBl2iomL3llx3dUQrA_RGkOTFOJ",VITE_SUPABASE_URL:"https://kllcbgoqtxedlfbkxpfo.supabase.co"},Ka=new Map,Gt=e=>{const t=Ka.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([a,r])=>[a,r.getState()])):{}},du=(e,t,a)=>{if(e===void 0)return{type:"untracked",connection:t.connect(a)};const r=Ka.get(a.name);if(r)return{type:"tracked",store:e,...r};const i={connection:t.connect(a),stores:{}};return Ka.set(a.name,i),{type:"tracked",store:e,...i}},uu=(e,t={})=>(a,r,i)=>{const{enabled:o,anonymousActionType:c,store:l,...u}=t;let v;try{v=(o??(Ea?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!v)return(Ea?"production":void 0)!=="production"&&o&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(a,r,i);const{connection:b,...j}=du(l,v,u);let m=!0;i.setState=(w,g,p)=>{const f=a(w,g);if(!m)return f;const k=p===void 0?{type:c||"anonymous"}:typeof p=="string"?{type:p}:p;return l===void 0?(b==null||b.send(k,r()),f):(b==null||b.send({...k,type:`${l}/${k.type}`},{...Gt(u.name),[l]:i.getState()}),f)};const x=(...w)=>{const g=m;m=!1,a(...w),m=g},N=e(i.setState,r,i);if(j.type==="untracked"?b==null||b.init(N):(j.stores[j.store]=i,b==null||b.init(Object.fromEntries(Object.entries(j.stores).map(([w,g])=>[w,w===j.store?N:g.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let w=!1;const g=i.dispatch;i.dispatch=(...p)=>{(Ea?"production":void 0)!=="production"&&p[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),g(...p)}}return b.subscribe(w=>{var g;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Sa(w.payload,p=>{if(p.type==="__setState"){if(l===void 0){x(p.state);return}Object.keys(p.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const f=p.state[l];if(f==null)return;JSON.stringify(i.getState())!==JSON.stringify(f)&&x(f);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(p)});case"DISPATCH":switch(w.payload.type){case"RESET":return x(N),l===void 0?b==null?void 0:b.init(i.getState()):b==null?void 0:b.init(Gt(u.name));case"COMMIT":if(l===void 0){b==null||b.init(i.getState());return}return b==null?void 0:b.init(Gt(u.name));case"ROLLBACK":return Sa(w.state,p=>{if(l===void 0){x(p),b==null||b.init(i.getState());return}x(p[l]),b==null||b.init(Gt(u.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Sa(w.state,p=>{if(l===void 0){x(p);return}JSON.stringify(i.getState())!==JSON.stringify(p[l])&&x(p[l])});case"IMPORT_STATE":{const{nextLiftedState:p}=w.payload,f=(g=p.computedStates.slice(-1)[0])==null?void 0:g.state;if(!f)return;x(l===void 0?f:f[l]),b==null||b.send(null,p);return}case"PAUSE_RECORDING":return m=!m}return}}),N},pu=uu,Sa=(e,t)=>{let a;try{a=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}a!==void 0&&t(a)},sn={currentCase:null,documents:[],people:[],properties:[],edges:[],currentDraft:null,isLoading:!1,isProcessing:!1},mu=cu()(pu(e=>({...sn,setCurrentCase:t=>e({currentCase:t}),setDocuments:t=>e({documents:t}),addDocument:t=>e(a=>({documents:[...a.documents,t]})),updateDocument:(t,a)=>e(r=>({documents:r.documents.map(i=>i.id===t?{...i,...a}:i)})),removeDocument:t=>e(a=>({documents:a.documents.filter(r=>r.id!==t)})),setPeople:t=>e({people:t}),addPerson:t=>e(a=>({people:[...a.people,t]})),updatePerson:(t,a)=>e(r=>({people:r.people.map(i=>i.id===t?{...i,...a}:i)})),removePerson:t=>e(a=>({people:a.people.filter(r=>r.id!==t)})),setProperties:t=>e({properties:t}),addProperty:t=>e(a=>({properties:[...a.properties,t]})),updateProperty:(t,a)=>e(r=>({properties:r.properties.map(i=>i.id===t?{...i,...a}:i)})),removeProperty:t=>e(a=>({properties:a.properties.filter(r=>r.id!==t)})),setEdges:t=>e({edges:t}),addEdge:t=>e(a=>({edges:[...a.edges,t]})),updateEdge:(t,a)=>e(r=>({edges:r.edges.map(i=>i.id===t?{...i,...a}:i)})),removeEdge:t=>e(a=>({edges:a.edges.filter(r=>r.id!==t)})),setCurrentDraft:t=>e({currentDraft:t}),setLoading:t=>e({isLoading:t}),setProcessing:t=>e({isProcessing:t}),reset:()=>e(sn)}),{name:"case-store"}));function hu({caseId:e,onDocumentInsert:t,onDocumentUpdate:a,onDocumentDelete:r,onStatusChange:i,enabled:o=!0}){const c=s.useRef(null),l=s.useRef(!1),u=s.useCallback(m=>{const{eventType:x,new:N,old:w}=m;if(x==="INSERT"&&N){const g=N;t==null||t(g);const p={documentId:g.id,previousStatus:null,newStatus:g.status,document:g,timestamp:new Date().toISOString(),eventType:"INSERT"};i==null||i(p)}if(x==="UPDATE"&&N){const g=N,p=w,f={documentId:g.id,previousStatus:(p==null?void 0:p.status)||null,newStatus:g.status,document:g,timestamp:new Date().toISOString(),eventType:"UPDATE"};a==null||a(f),(p==null?void 0:p.status)!==g.status&&(i==null||i(f))}if(x==="DELETE"&&w){const g=w;r==null||r(g.id);const p={documentId:g.id,previousStatus:g.status,newStatus:g.status,document:g,timestamp:new Date().toISOString(),eventType:"DELETE"};i==null||i(p)}},[t,a,r,i]),v=s.useCallback(()=>{if(!e||!o||c.current)return;const m=`documents:case:${e}`;c.current=z.channel(m).on("postgres_changes",{event:"*",schema:"public",table:"documents",filter:`case_id=eq.${e}`},u).subscribe(x=>{l.current=x==="SUBSCRIBED",x==="SUBSCRIBED"&&console.log(`[DocumentStatus] Subscribed to case: ${e}`)})},[e,o,u]),b=s.useCallback(()=>{c.current&&(console.log(`[DocumentStatus] Unsubscribing from case: ${e}`),z.removeChannel(c.current),c.current=null,l.current=!1)},[e]),j=s.useCallback(()=>{b(),v()},[b,v]);return s.useEffect(()=>(v(),()=>{b()}),[v,b]),{isSubscribed:l.current,unsubscribe:b,resubscribe:j}}const fu={uploaded:{label:"Uploaded",className:"badge-info",icon:Je},processing:{label:"Processing",className:"badge-warning",icon:ae},processed:{label:"Processed",className:"badge-success",icon:de},needs_review:{label:"Needs Review",className:"badge-warning",icon:ta},approved:{label:"Approved",className:"badge-success",icon:de},failed:{label:"Failed",className:"badge-error",icon:ta}},on={cnh:"CNH",rg:"RG",marriage_cert:"Certidao de Casamento",deed:"Escritura",proxy:"Procuracao",iptu:"IPTU",birth_cert:"Certidao de Nascimento",other:"Outro"},xu=e=>e<1024?`${e} B`:e<1024*1024?`${(e/1024).toFixed(1)} KB`:`${(e/(1024*1024)).toFixed(1)} MB`,gu=e=>new Date(e).toLocaleDateString("pt-BR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),vu=e=>e==null?"":`${Math.round(e*100)}%`,bu=e=>e==null?"text-gray-500":e>=.8?"text-green-600 dark:text-green-400":e>=.5?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",yu=e=>e==null?"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300":e>=.8?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":e>=.5?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";function wu(){const{caseId:e}=Se(),{documents:t,addDocument:a,updateDocument:r,removeDocument:i}=mu(),[o,c]=s.useState(t),[l,u]=s.useState(!0);s.useEffect(()=>{async function m(){if(e){u(!0);try{const{data:x,error:N}=await z.from("documents").select("*").eq("case_id",e).order("created_at",{ascending:!1});if(N){console.error("Error loading documents:",N);return}x&&c(x)}catch(x){console.error("Error loading documents:",x)}finally{u(!1)}}}m()},[e]),hu({caseId:e||"",enabled:!!e,onDocumentInsert:m=>{console.log("[UploadPage] Document inserted:",m.original_name),c(x=>x.some(N=>N.id===m.id)?x:[m,...x]),a(m)},onDocumentUpdate:m=>{console.log("[UploadPage] Document updated:",m.documentId,m.newStatus),c(x=>x.map(N=>N.id===m.documentId?{...N,...m.document,status:m.newStatus}:N)),r(m.documentId,m.document)},onDocumentDelete:m=>{console.log("[UploadPage] Document deleted:",m),c(x=>x.filter(N=>N.id!==m)),i(m)},onStatusChange:m=>{console.log("[UploadPage] Status changed:",m.documentId,m.previousStatus,"->",m.newStatus)}});const v=s.useCallback(m=>{const x=m.filter(N=>N.success);console.log(`[UploadPage] Upload complete: ${x.length}/${m.length} files successful`),x.forEach(async N=>{if(N.document_id)try{const{data:w}=await z.from("documents").select("*").eq("id",N.document_id).single();w&&(c(g=>g.some(p=>p.id===w.id)?g:[w,...g]),a(w))}catch(w){console.error("Error fetching uploaded document:",w)}})},[a]),b=s.useCallback(async m=>{const x=o.find(N=>N.id===m);if(x)try{x.storage_path&&await z.storage.from("documents").remove([x.storage_path]);const{error:N}=await z.from("documents").delete().eq("id",m);if(N){console.error("Error deleting document:",N);return}c(w=>w.filter(g=>g.id!==m)),i(m)}catch(N){console.error("Error removing document:",N)}},[o,i]),j=m=>m==="application/pdf"?n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 dark:bg-red-900/30 flex items-center justify-center",children:n.jsx(Zt,{className:"w-5 h-5 text-red-500"})}):m.startsWith("image/")?n.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center",children:n.jsx(Zt,{className:"w-5 h-5 text-blue-500"})}):n.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-100 dark:bg-gray-700 flex items-center justify-center",children:n.jsx(Zt,{className:"w-5 h-5 text-gray-500"})});return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Upload de Documentos"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Faca upload dos documentos para analise. Arraste e solte multiplos arquivos de uma vez."})]}),o.length>0&&n.jsx(Lt,{to:`/case/${e}/entities`,className:"btn-primary",children:"Continuar para Entidades"})]}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Enviar Documentos"}),n.jsx(ru,{caseId:e||"",onUploadComplete:v})]}),n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Documentos Enviados"}),n.jsxs("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[o.length," documento",o.length!==1?"s":""," neste caso"]})]}),n.jsx(ie,{mode:"popLayout",children:l?n.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-12 text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:n.jsx(ae,{className:"w-8 h-8 text-gray-400 dark:text-gray-500 animate-spin"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Carregando documentos..."})]}):o.length===0?n.jsxs(A.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-12 text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center mb-4",children:n.jsx(oo,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum documento enviado ainda"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 max-w-sm mx-auto",children:"Comece arrastando e soltando documentos na area de upload acima, ou clique para selecionar arquivos."})]}):n.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:o.map((m,x)=>{const N=fu[m.status],w=N.icon;return n.jsx(A.li,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-10},transition:{delay:x*.05},className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-4",children:[j(m.mime_type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:m.original_name}),n.jsxs("span",{className:`badge ${N.className}`,children:[n.jsx(w,{className:`w-3 h-3 mr-1 ${m.status==="processing"?"animate-spin":""}`}),N.label]}),m.doc_type&&n.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium ${yu(m.doc_type_confidence)}`,children:[on[m.doc_type],m.doc_type_confidence!==null&&n.jsxs("span",{className:`font-semibold ${bu(m.doc_type_confidence)}`,children:["(",vu(m.doc_type_confidence),")"]})]})]}),n.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:xu(m.file_size)}),m.page_count&&n.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[m.page_count," pagina",m.page_count!==1?"s":""]}),n.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-500",children:gu(m.created_at)})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{className:"p-2 rounded-md text-gray-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",title:"Ver documento",children:n.jsx(io,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>b(m.id),className:"p-2 rounded-md text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",title:"Remover documento",children:n.jsx(Mo,{className:"w-5 h-5"})})]})]})},m.id)})})})]}),n.jsxs("div",{className:"card p-6 bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:"Tipos de Documento Suportados (Deteccao Automatica)"}),n.jsx("div",{className:"mt-2 grid grid-cols-2 sm:grid-cols-4 gap-2",children:Object.entries(on).map(([m,x])=>n.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-300",children:["- ",x]},m))}),n.jsx("p",{className:"mt-3 text-xs text-blue-600 dark:text-blue-400",children:"Os arquivos sao processados automaticamente usando OCR e IA para identificar o tipo de documento e extrair informacoes relevantes. A porcentagem indica o nivel de confianca da deteccao."})]})]})}const ln={PERSON:{label:"Pessoa",icon:Ao,color:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-100 dark:bg-blue-900/30"},ORGANIZATION:{label:"Organizacao",icon:Pr,color:"text-purple-600 dark:text-purple-400",bgColor:"bg-purple-100 dark:bg-purple-900/30"},LOCATION:{label:"Local",icon:bo,color:"text-green-600 dark:text-green-400",bgColor:"bg-green-100 dark:bg-green-900/30"},DATE:{label:"Data",icon:Rs,color:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-100 dark:bg-orange-900/30"},MONEY:{label:"Valor",icon:Bn,color:"text-emerald-600 dark:text-emerald-400",bgColor:"bg-emerald-100 dark:bg-emerald-900/30"},CPF:{label:"CPF",icon:Rr,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100 dark:bg-indigo-900/30"},RG:{label:"RG",icon:Rr,color:"text-indigo-600 dark:text-indigo-400",bgColor:"bg-indigo-100 dark:bg-indigo-900/30"},CNPJ:{label:"CNPJ",icon:Pr,color:"text-violet-600 dark:text-violet-400",bgColor:"bg-violet-100 dark:bg-violet-900/30"},EMAIL:{label:"Email",icon:to,color:"text-cyan-600 dark:text-cyan-400",bgColor:"bg-cyan-100 dark:bg-cyan-900/30"},PHONE:{label:"Telefone",icon:ko,color:"text-teal-600 dark:text-teal-400",bgColor:"bg-teal-100 dark:bg-teal-900/30"},ADDRESS:{label:"Endereco",icon:Dt,color:"text-amber-600 dark:text-amber-400",bgColor:"bg-amber-100 dark:bg-amber-900/30"},PROPERTY_REGISTRY:{label:"Matricula",icon:Zs,color:"text-rose-600 dark:text-rose-400",bgColor:"bg-rose-100 dark:bg-rose-900/30"},RELATIONSHIP:{label:"Relacao",icon:fo,color:"text-pink-600 dark:text-pink-400",bgColor:"bg-pink-100 dark:bg-pink-900/30"},DOCUMENT_NUMBER:{label:"Numero Doc",icon:Ee,color:"text-slate-600 dark:text-slate-400",bgColor:"bg-slate-100 dark:bg-slate-900/30"},OTHER:{label:"Outro",icon:Co,color:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-100 dark:bg-gray-900/30"}};function ku({entities:e,onEntityClick:t,isLoading:a=!1}){const[r,i]=s.useState(""),[o,c]=s.useState([]),[l,u]=s.useState("confidence"),[v,b]=s.useState("desc"),[j,m]=s.useState(!1),x=s.useMemo(()=>{const h=new Set(e.map(M=>M.type));return Array.from(h)},[e]),N=s.useMemo(()=>{let h=[...e];if(r.trim()){const M=r.toLowerCase();h=h.filter(O=>O.value.toLowerCase().includes(M)||O.normalized_value&&O.normalized_value.toLowerCase().includes(M)||O.context&&O.context.toLowerCase().includes(M))}return o.length>0&&(h=h.filter(M=>o.includes(M.type))),h.sort((M,O)=>{let S=0;switch(l){case"type":S=M.type.localeCompare(O.type);break;case"value":S=M.value.localeCompare(O.value);break;case"confidence":S=M.confidence-O.confidence;break}return v==="asc"?S:-S}),h},[e,r,o,l,v]),w=h=>{l===h?b(M=>M==="asc"?"desc":"asc"):(u(h),b("desc"))},g=h=>{c(M=>M.includes(h)?M.filter(O=>O!==h):[...M,h])},p=h=>h>=.8?"text-green-600 dark:text-green-400":h>=.6?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",f=h=>h>=.8?"bg-green-100 dark:bg-green-900/30":h>=.6?"bg-yellow-100 dark:bg-yellow-900/30":"bg-red-100 dark:bg-red-900/30",k=({field:h})=>l!==h?null:v==="asc"?n.jsx(Wn,{className:"w-4 h-4 inline ml-1"}):n.jsx(qn,{className:"w-4 h-4 inline ml-1"});return a?n.jsxs("div",{className:"animate-pulse space-y-4",children:[n.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"}),n.jsx("div",{className:"h-64 bg-gray-200 dark:bg-gray-700 rounded"})]}):e.length===0?n.jsxs("div",{className:"text-center py-12 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[n.jsx(Ee,{className:"mx-auto h-12 w-12 text-gray-400"}),n.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Nenhuma entidade extraida"}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Faca upload de documentos e aguarde o processamento para ver entidades extraidas."})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:r,onChange:h=>i(h.target.value),placeholder:"Buscar entidades...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),n.jsxs("button",{onClick:()=>m(!j),className:`flex items-center gap-2 px-4 py-2 border rounded-lg transition-colors ${o.length>0?"border-blue-500 text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[n.jsx(Un,{className:"w-5 h-5"}),n.jsx("span",{children:"Filtros"}),o.length>0&&n.jsx("span",{className:"ml-1 px-2 py-0.5 text-xs bg-blue-500 text-white rounded-full",children:o.length})]})]}),n.jsx(ie,{children:j&&n.jsx(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:n.jsxs("div",{className:"flex flex-wrap gap-2 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[x.map(h=>{const M=ln[h],O=o.includes(h),S=M.icon;return n.jsxs("button",{onClick:()=>g(h),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${O?`${M.bgColor} ${M.color}`:"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-200 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:[n.jsx(S,{className:"w-4 h-4"}),M.label,n.jsxs("span",{className:"ml-1 text-xs opacity-70",children:["(",e.filter(y=>y.type===h).length,")"]})]},h)}),o.length>0&&n.jsx("button",{onClick:()=>c([]),className:"px-3 py-1.5 text-sm text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200",children:"Limpar filtros"})]})})}),n.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Mostrando ",N.length," de ",e.length," entidades"]}),n.jsxs("div",{className:"overflow-hidden bg-white dark:bg-gray-800 shadow ring-1 ring-black ring-opacity-5 rounded-lg",children:[n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[n.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/50",children:n.jsxs("tr",{children:[n.jsxs("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>w("type"),children:["Tipo ",n.jsx(k,{field:"type"})]}),n.jsxs("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>w("value"),children:["Valor ",n.jsx(k,{field:"value"})]}),n.jsxs("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>w("confidence"),children:["Confianca ",n.jsx(k,{field:"confidence"})]}),n.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Contexto"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.jsx(ie,{children:N.map((h,M)=>{const O=ln[h.type],S=O.icon;return n.jsxs(A.tr,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:M*.02},onClick:()=>t==null?void 0:t(h),className:`${t?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50":""}`,children:[n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${O.bgColor} ${O.color}`,children:[n.jsx(S,{className:"w-3.5 h-3.5"}),O.label]})}),n.jsxs("td",{className:"px-4 py-3",children:[n.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:h.value}),h.normalized_value&&h.normalized_value!==h.value&&n.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-0.5",children:["Normalizado: ",h.normalized_value]})]}),n.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.jsxs("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${f(h.confidence)} ${p(h.confidence)}`,children:[Math.round(h.confidence*100),"%"]})}),n.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-gray-400 max-w-xs truncate",children:h.context||"-"})]},h.id||M)})})})]})}),N.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:"Nenhuma entidade encontrada com os filtros aplicados."})]})]})}function ju(){const{caseId:e}=Se(),[t,a]=s.useState([]),[r,i]=s.useState([]),[o,c]=s.useState(null),[l,u]=s.useState(!0),[v,b]=s.useState(!1),[j,m]=s.useState(null),x=s.useCallback(async()=>{var p;if(e){u(!0),m(null);try{const{data:f,error:k}=await z.from("documents").select("*").eq("case_id",e).order("created_at",{ascending:!1});if(k)throw new Error(`Failed to fetch documents: ${k.message}`);i(f);const h=(f==null?void 0:f.map(y=>y.id))||[];if(h.length===0){a([]);return}const{data:M,error:O}=await z.from("extractions").select("*").in("document_id",h);O&&console.error("Error fetching extractions:",O);const S=[];if(M)for(const y of M){const E=y.llm_result;if((p=E==null?void 0:E.entity_extraction)!=null&&p.entities){const C=E.entity_extraction.entities;S.push(...C.map(_=>({..._,document_id:y.document_id})))}}a(o?S.filter(y=>y.document_id===o):S)}catch(f){console.error("Error loading data:",f),m(f instanceof Error?f.message:"Failed to load data")}finally{u(!1)}}},[e,o]);s.useEffect(()=>{x()},[x]);const N=async p=>{if(e){b(!0);try{const{error:f}=await z.from("processing_jobs").insert({case_id:e,document_id:p,job_type:"entity_extraction",status:"pending",attempts:0,max_attempts:3});if(f)throw new Error(`Failed to create extraction job: ${f.message}`);setTimeout(()=>{x(),b(!1)},2e3)}catch(f){console.error("Error triggering extraction:",f),m(f instanceof Error?f.message:"Failed to trigger extraction"),b(!1)}}},w=async()=>{if(!(!e||r.length===0)){b(!0);try{const p=r.filter(f=>f.status==="processed").map(f=>z.from("processing_jobs").insert({case_id:e,document_id:f.id,job_type:"entity_extraction",status:"pending",attempts:0,max_attempts:3}));await Promise.all(p),setTimeout(()=>{x(),b(!1)},3e3)}catch(p){console.error("Error triggering extractions:",p),m(p instanceof Error?p.message:"Failed to trigger extractions"),b(!1)}}},g=p=>{const f=t.some(h=>h.document_id===p.id),k=t.filter(h=>h.document_id===p.id).length;return f?{icon:de,color:"text-green-500",label:`${k} entidades`}:p.status==="processing"?{icon:ae,color:"text-blue-500 animate-spin",label:"Processando..."}:p.status==="processed"?{icon:Je,color:"text-yellow-500",label:"Aguardando extracao"}:{icon:aa,color:"text-gray-400",label:p.status}};return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(ra,{className:"w-7 h-7 text-purple-500"}),"Entidades Extraidas"]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Visualize e gerencie as entidades extraidas dos documentos usando IA."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>x(),disabled:l,className:"btn-secondary flex items-center gap-2",children:[n.jsx(ae,{className:`w-5 h-5 ${l?"animate-spin":""}`}),"Atualizar"]}),r.filter(p=>p.status==="processed").length>0&&n.jsx("button",{onClick:w,disabled:v,className:"btn-primary flex items-center gap-2",children:v?n.jsxs(n.Fragment,{children:[n.jsx(ae,{className:"w-5 h-5 animate-spin"}),"Extraindo..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"w-5 h-5"}),"Extrair Entidades"]})})]})]}),j&&n.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"w-5 h-5 text-red-500"}),n.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:j}),n.jsx("button",{onClick:()=>m(null),className:"ml-auto text-red-500 hover:text-red-700",children:"Fechar"})]})}),r.length>0&&n.jsxs("div",{className:"card p-4",children:[n.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Filtrar por Documento"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:()=>c(null),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${o===null?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:["Todos (",t.length,")"]}),r.map(p=>{const f=g(p),k=f.icon,h=t.filter(M=>M.document_id===p.id);return n.jsxs("button",{onClick:()=>c(p.id),className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${o===p.id?"bg-blue-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[n.jsx(k,{className:`w-4 h-4 ${o===p.id?"text-white":f.color}`}),n.jsx("span",{className:"truncate max-w-[150px]",children:p.original_name}),h.length>0&&n.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${o===p.id?"bg-white/20":"bg-gray-200 dark:bg-gray-600"}`,children:h.length})]},p.id)})]})]}),l?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ae,{className:"w-10 h-10 text-gray-400 animate-spin mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Carregando entidades..."})]})}):r.length===0?n.jsxs("div",{className:"card p-8 text-center",children:[n.jsx(Ee,{className:"w-12 h-12 text-gray-400 mx-auto"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum documento encontrado"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Faca upload de documentos primeiro para extrair entidades."}),n.jsx(Lt,{to:`/case/${e}/upload`,className:"btn-primary mt-4 inline-flex items-center gap-2",children:"Ir para Upload"})]}):n.jsx("div",{className:"card p-6",children:n.jsx(ku,{entities:t,isLoading:l,onEntityClick:p=>{console.log("Entity clicked:",p)}})}),r.length>0&&n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Documentos Disponiveis"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Clique em um documento para extrair entidades individualmente."})]}),n.jsx("ul",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(p=>{const f=g(p),k=f.icon,h=t.filter(M=>M.document_id===p.id);return n.jsx("li",{className:"p-4 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ee,{className:"w-8 h-8 text-gray-400"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:p.original_name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(k,{className:`w-4 h-4 ${f.color}`}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:f.label}),p.doc_type&&n.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-xs rounded",children:p.doc_type})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[h.length>0&&n.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full",children:[h.length," entidades"]}),p.status==="processed"&&n.jsx("button",{onClick:()=>N(p.id),disabled:v,className:"btn-secondary text-sm py-1.5",children:h.length>0?"Re-extrair":"Extrair"})]})]})},p.id)})})]})]})}function Nu(){const{caseId:e}=Se();return n.jsxs("div",{className:"h-[calc(100vh-8rem)]",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Canvas"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Case ID: ",e]}),n.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Infinite canvas with React Flow will be implemented here."})]})}function Cu(){const{caseId:e}=Se();return n.jsxs("div",{className:"h-[calc(100vh-8rem)]",children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"Draft Editor"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Case ID: ",e]}),n.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Tiptap editor with chat panel will be implemented here."})]})}function Eu(){const{caseId:e}=Se();return n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:"History & Audit Trail"}),n.jsxs("p",{className:"text-gray-500 dark:text-gray-400",children:["Case ID: ",e]}),n.jsx("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:"Timeline and audit log will be displayed here."})]})}const Su={pending:{label:"Pending Review",icon:Je,bgClassName:"bg-amber-50 dark:bg-amber-900/20",textClassName:"text-amber-700 dark:text-amber-300",borderClassName:"border-amber-200 dark:border-amber-800"},confirmed:{label:"Confirmed",icon:de,bgClassName:"bg-green-50 dark:bg-green-900/20",textClassName:"text-green-700 dark:text-green-300",borderClassName:"border-green-200 dark:border-green-800"},resolved:{label:"Resolved",icon:de,bgClassName:"bg-blue-50 dark:bg-blue-900/20",textClassName:"text-blue-700 dark:text-blue-300",borderClassName:"border-blue-200 dark:border-blue-800"}},Ou={low_similarity:"Low similarity score",type_mismatch:"Data type mismatch",format_difference:"Format difference",partial_match:"Partial match detected",ocr_confidence_low:"Low OCR confidence",llm_confidence_low:"Low LLM confidence",both_confidence_low:"Both sources have low confidence",semantic_difference:"Semantic difference",missing_value:"Missing value in one source"},gi={sm:{card:"p-3",title:"text-sm",value:"text-xs",badge:"text-xs px-1.5 py-0.5"},md:{card:"p-4",title:"text-base",value:"text-sm",badge:"text-xs px-2 py-0.5"},lg:{card:"p-5",title:"text-lg",value:"text-base",badge:"text-sm px-2.5 py-1"}};function Du(e){return e.split(".").map(t=>t.replace(/_/g," ")).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" > ")}function Xt(e){return e==null?"(empty)":typeof e=="object"?JSON.stringify(e,null,2):String(e)}function cn(e){return e>=.85?"text-green-600 dark:text-green-400":e>=.7?"text-yellow-600 dark:text-yellow-400":e>=.5?"text-orange-600 dark:text-orange-400":"text-red-600 dark:text-red-400"}function Pu(e){return e>=.85?"bg-green-100 dark:bg-green-900/30":e>=.7?"bg-yellow-100 dark:bg-yellow-900/30":e>=.5?"bg-orange-100 dark:bg-orange-900/30":"bg-red-100 dark:bg-red-900/30"}function dn({source:e,value:t,confidence:a,isSelected:r,onSelect:i,disabled:o,size:c}){const l=e==="ocr"?Ee:ra,u=e==="ocr"?"OCR Result":"LLM Result",v=gi[c];return n.jsxs(A.button,{type:"button",onClick:i,disabled:o,className:`
        relative w-full text-left rounded-lg border-2 transition-all duration-200
        ${v.card}
        ${r?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 ring-2 ring-primary-500/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 bg-white dark:bg-gray-800"}
        ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"}
      `,whileHover:o?void 0:{scale:1.01},whileTap:o?void 0:{scale:.99},children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(l,{className:`w-4 h-4 ${e==="ocr"?"text-blue-500":"text-purple-500"}`}),n.jsx("span",{className:`font-medium ${v.value} text-gray-700 dark:text-gray-300`,children:u}),a!==void 0&&n.jsxs("span",{className:`${v.badge} rounded-full bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400`,children:[Math.round(a*100),"%"]}),r&&n.jsx(A.span,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:n.jsx(de,{className:"w-5 h-5 text-primary-500"})})]}),n.jsx("div",{className:`
        ${v.value} text-gray-900 dark:text-gray-100
        font-mono bg-gray-50 dark:bg-gray-900 rounded p-2
        max-h-24 overflow-y-auto
        whitespace-pre-wrap break-words
      `,children:Xt(t)})]})}function Mu({conflict:e,onResolve:t,isLoading:a=!1,disabled:r=!1,size:i="md",showDetails:o=!0,className:c=""}){const[l,u]=s.useState(null),[v,b]=s.useState(""),[j,m]=s.useState(!1),[x,N]=s.useState(""),[w,g]=s.useState(!1),p=Su[e.status],f=p.icon,k=gi[i],h=e.status==="resolved"||e.status==="confirmed",M=!h&&!r&&!a&&l!==null,O=s.useCallback(()=>{r||h||(u("ocr"),m(!1))},[r,h]),S=s.useCallback(()=>{r||h||(u("llm"),m(!1))},[r,h]),y=s.useCallback(()=>{r||h||(u("custom"),m(!0))},[r,h]),E=s.useCallback(()=>{if(!M||!t)return;let C;l==="ocr"?C=e.ocrValue:l==="llm"?C=e.llmValue:C=v,t(e.fieldPath,C,x||void 0)},[M,t,l,e,v,x]);return n.jsxs(A.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:`
        rounded-xl border shadow-sm overflow-hidden
        ${p.borderClassName}
        ${p.bgClassName}
        ${c}
      `,children:[n.jsxs("div",{className:`${k.card} border-b ${p.borderClassName}`,children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:`font-semibold ${k.title} text-gray-900 dark:text-white truncate`,children:Du(e.fieldPath)}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono mt-0.5",children:e.fieldPath})]}),n.jsxs("div",{className:`
            flex items-center gap-1.5 rounded-full
            ${k.badge}
            ${p.bgClassName}
            ${p.textClassName}
            border ${p.borderClassName}
          `,children:[n.jsx(f,{className:"w-3.5 h-3.5"}),n.jsx("span",{className:"font-medium",children:p.label})]})]}),o&&e.status==="pending"&&n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3",children:[n.jsxs("div",{className:`
              flex items-center gap-1.5 rounded-full px-2 py-1
              ${Pu(e.similarityScore)}
            `,children:[n.jsx(Ba,{className:`w-3.5 h-3.5 ${cn(e.similarityScore)}`}),n.jsxs("span",{className:`text-xs font-medium ${cn(e.similarityScore)}`,children:[Math.round(e.similarityScore*100),"% match"]})]}),e.conflictReason&&n.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[n.jsx(aa,{className:"w-3.5 h-3.5 text-amber-500"}),n.jsx("span",{children:Ou[e.conflictReason]})]})]}),h&&n.jsxs("div",{className:"mt-3 text-xs text-gray-600 dark:text-gray-400",children:[e.reviewedBy&&n.jsxs("span",{children:["Reviewed by ",e.reviewedBy]}),e.reviewedAt&&n.jsxs("span",{className:"ml-2",children:["on ",new Date(e.reviewedAt).toLocaleDateString()]}),e.resolutionNote&&n.jsxs("p",{className:"mt-1 italic",children:['"',e.resolutionNote,'"']})]})]}),n.jsx("div",{className:`${k.card}`,children:h?n.jsxs("div",{className:"space-y-2",children:[n.jsx("p",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Resolved Value"}),n.jsx("div",{className:`
              ${k.value} text-gray-900 dark:text-gray-100
              font-mono bg-white dark:bg-gray-800 rounded-lg p-3 border border-gray-200 dark:border-gray-700
            `,children:Xt(e.finalValue)}),n.jsx("button",{type:"button",onClick:()=>g(!w),className:"text-xs text-primary-600 dark:text-primary-400 hover:underline",children:w?"Hide original values":"Show original values"}),n.jsx(ie,{children:w&&n.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:n.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"OCR"}),n.jsx("div",{className:"text-xs font-mono bg-gray-50 dark:bg-gray-900 rounded p-2",children:Xt(e.ocrValue)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"LLM"}),n.jsx("div",{className:"text-xs font-mono bg-gray-50 dark:bg-gray-900 rounded p-2",children:Xt(e.llmValue)})]})]})})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsx(dn,{source:"ocr",value:e.ocrValue,confidence:e.ocrConfidence,isSelected:l==="ocr",onSelect:O,disabled:r||a,size:i}),n.jsx(dn,{source:"llm",value:e.llmValue,confidence:e.llmConfidence,isSelected:l==="llm",onSelect:S,disabled:r||a,size:i})]}),n.jsx("div",{className:"mt-3",children:j?n.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fr,{className:"w-4 h-4 text-primary-500"}),n.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Custom Value"}),n.jsx("button",{type:"button",onClick:()=>{m(!1),l==="custom"&&u(null)},className:"ml-auto text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n.jsx(ca,{className:"w-4 h-4"})})]}),n.jsx("input",{type:"text",value:v,onChange:C=>b(C.target.value),placeholder:"Enter the correct value...",disabled:r||a,className:`
                      w-full rounded-lg border-2 px-3 py-2
                      ${l==="custom"?"border-primary-500 ring-2 ring-primary-500/20":"border-gray-200 dark:border-gray-700"}
                      bg-white dark:bg-gray-800
                      text-gray-900 dark:text-gray-100
                      placeholder-gray-400 dark:placeholder-gray-500
                      focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20
                      disabled:opacity-50 disabled:cursor-not-allowed
                      ${k.value}
                    `})]}):n.jsxs("button",{type:"button",onClick:y,disabled:r||a,className:`
                    flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400
                    hover:text-primary-600 dark:hover:text-primary-400
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                  `,children:[n.jsx(Fr,{className:"w-4 h-4"}),n.jsx("span",{children:"Enter custom value"})]})}),l&&n.jsxs(A.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"mt-3",children:[n.jsx("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Resolution note (optional)"}),n.jsx("textarea",{value:x,onChange:C=>N(C.target.value),placeholder:"Add a note explaining your choice...",disabled:r||a,rows:2,className:`
                    w-full rounded-lg border border-gray-200 dark:border-gray-700 px-3 py-2
                    bg-white dark:bg-gray-800
                    text-gray-900 dark:text-gray-100
                    placeholder-gray-400 dark:placeholder-gray-500
                    focus:outline-none focus:border-primary-500 focus:ring-2 focus:ring-primary-500/20
                    disabled:opacity-50 disabled:cursor-not-allowed
                    resize-none
                    ${k.value}
                  `})]}),t&&n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(A.button,{type:"button",onClick:E,disabled:!M,className:`
                    flex items-center gap-2 px-4 py-2 rounded-lg font-medium
                    bg-primary-600 hover:bg-primary-700
                    text-white
                    disabled:opacity-50 disabled:cursor-not-allowed
                    transition-colors
                    ${k.value}
                  `,whileHover:M?{scale:1.02}:void 0,whileTap:M?{scale:.98}:void 0,children:a?n.jsxs(n.Fragment,{children:[n.jsx(A.div,{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}}),n.jsx("span",{children:"Resolving..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(de,{className:"w-4 h-4"}),n.jsx("span",{children:"Resolve Conflict"})]})})})]})})]})}function Ru(e){switch(e){case"pending":return"text-amber-600 dark:text-amber-400";case"resolved":return"text-blue-600 dark:text-blue-400";case"confirmed":return"text-green-600 dark:text-green-400";default:return"text-gray-600 dark:text-gray-400"}}function Fu(e){switch(e){case"pending":return"bg-amber-100 dark:bg-amber-900/30";case"resolved":return"bg-blue-100 dark:bg-blue-900/30";case"confirmed":return"bg-green-100 dark:bg-green-900/30";default:return"bg-gray-100 dark:bg-gray-900/30"}}function _u(){const{caseId:e}=Se(),{user:t}=jt(),[a,r]=s.useState([]),[i,o]=s.useState([]),[c,l]=s.useState(!0),[u,v]=s.useState(null),[b,j]=s.useState(null),[m,x]=s.useState(null),[N,w]=s.useState("all"),[g,p]=s.useState(!1),f=s.useMemo(()=>{const y=a.flatMap(E=>E.conflicts);return{total:y.length,pending:y.filter(E=>E.status==="pending").length,resolved:y.filter(E=>E.status==="resolved").length,confirmed:y.filter(E=>E.status==="confirmed").length}},[a]),k=s.useCallback(async()=>{if(e){l(!0),j(null);try{const{data:y,error:E}=await _i(e);if(E)throw new Error(`Failed to fetch conflicts: ${E.message}`);r(y||[]);const C=(y||[]).map(_=>({documentId:_.documentId,documentName:`Document ${_.documentId.slice(0,8)}...`,extractionId:_.extractionId,conflicts:_.conflicts,pendingCount:_.pendingConflicts,resolvedCount:_.resolvedConflicts,confirmedCount:_.confirmedFields,isExpanded:_.pendingConflicts>0}));o(C)}catch(y){console.error("Error loading conflicts:",y),j(y instanceof Error?y.message:"Failed to load conflicts")}finally{l(!1)}}},[e]);s.useEffect(()=>{k()},[k]),s.useEffect(()=>{if(!e)return;const y=Li(e,E=>{console.log("Consensus update received:",E),k()});return()=>{y()}},[e,k]);const h=s.useCallback(async(y,E,C,_)=>{if(!(t!=null&&t.id)){j("You must be logged in to resolve conflicts");return}v(E),j(null);try{const U=await Ti(y,{fieldPath:E,resolvedValue:C,resolutionNote:_},t.id);if(!U.success)throw new Error(U.message||"Failed to resolve conflict");x(`Conflict for "${E}" resolved successfully`),setTimeout(()=>x(null),3e3),await k()}catch(U){console.error("Error resolving conflict:",U),j(U instanceof Error?U.message:"Failed to resolve conflict")}finally{v(null)}},[t==null?void 0:t.id,k]),M=s.useCallback(async()=>{if(e){p(!0),j(null);try{const y=i.map(E=>E.documentId);if(y.length===0){j("No documents available for consensus processing");return}for(const E of y)await Ai(e,E);x(`Consensus jobs triggered for ${y.length} document(s)`),setTimeout(()=>x(null),3e3),setTimeout(()=>k(),2e3)}catch(y){console.error("Error triggering consensus:",y),j(y instanceof Error?y.message:"Failed to trigger consensus")}finally{p(!1)}}},[e,i,k]),O=s.useCallback(y=>{o(E=>E.map(C=>C.documentId===y?{...C,isExpanded:!C.isExpanded}:C))},[]),S=s.useCallback(y=>N==="all"?y:y.filter(E=>E.status===N),[N]);return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(Ba,{className:"w-7 h-7 text-amber-500"}),"Revisao de Conflitos"]}),n.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Revise e resolva conflitos entre os resultados de OCR e LLM."})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:()=>k(),disabled:c,className:"btn-secondary flex items-center gap-2",children:[n.jsx(ae,{className:`w-5 h-5 ${c?"animate-spin":""}`}),"Atualizar"]}),n.jsx("button",{onClick:M,disabled:g||i.length===0,className:"btn-primary flex items-center gap-2",children:g?n.jsxs(n.Fragment,{children:[n.jsx(ae,{className:"w-5 h-5 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ra,{className:"w-5 h-5"}),"Executar Consenso"]})})]})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-800 rounded-lg",children:n.jsx(Ba,{className:"w-5 h-5 text-gray-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:f.total}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Total"})]})]})}),n.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg",children:n.jsx(Je,{className:"w-5 h-5 text-amber-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:f.pending}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Pendentes"})]})]})}),n.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:n.jsx(de,{className:"w-5 h-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.resolved}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Resolvidos"})]})]})}),n.jsx(A.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg",children:n.jsx(Qt,{className:"w-5 h-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.confirmed}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Confirmados"})]})]})})]}),n.jsx(ie,{children:b&&n.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(aa,{className:"w-5 h-5 text-red-500"}),n.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:b}),n.jsx("button",{onClick:()=>j(null),className:"ml-auto text-red-500 hover:text-red-700",children:"Fechar"})]})})}),n.jsx(ie,{children:m&&n.jsx(A.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(de,{className:"w-5 h-5 text-green-500"}),n.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:m})]})})}),n.jsx("div",{className:"card p-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[n.jsx(Un,{className:"w-5 h-5"}),n.jsx("span",{className:"text-sm font-medium",children:"Filtrar por status:"})]}),n.jsx("div",{className:"flex gap-2",children:["all","pending","resolved","confirmed"].map(y=>{const E={all:"Todos",pending:"Pendentes",resolved:"Resolvidos",confirmed:"Confirmados"},C={all:f.total,pending:f.pending,resolved:f.resolved,confirmed:f.confirmed};return n.jsxs("button",{onClick:()=>w(y),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors flex items-center gap-1.5 ${N===y?"bg-primary-500 text-white":`${y!=="all"?Fu(y):"bg-gray-100 dark:bg-gray-700"} ${y!=="all"?Ru(y):"text-gray-700 dark:text-gray-300"} hover:opacity-80`}`,children:[E[y],n.jsx("span",{className:`px-1.5 py-0.5 rounded text-xs ${N===y?"bg-white/20":"bg-black/10 dark:bg-white/10"}`,children:C[y]})]},y)})})]})}),c?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ae,{className:"w-10 h-10 text-gray-400 animate-spin mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-500 dark:text-gray-400",children:"Carregando conflitos..."})]})}):i.length===0?n.jsxs("div",{className:"card p-8 text-center",children:[n.jsx(Ee,{className:"w-12 h-12 text-gray-400 mx-auto"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Nenhum conflito encontrado"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400 max-w-md mx-auto",children:"Nao ha conflitos para revisar neste caso. Execute o consenso nos documentos para detectar divergencias entre OCR e LLM."}),n.jsx(Lt,{to:`/case/${e}/upload`,className:"btn-primary mt-4 inline-flex items-center gap-2",children:"Ir para Upload"})]}):f.pending===0&&N==="pending"?n.jsxs("div",{className:"card p-8 text-center",children:[n.jsx(Qt,{className:"w-12 h-12 text-green-500 mx-auto"}),n.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900 dark:text-white",children:"Todos os conflitos foram resolvidos!"}),n.jsx("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"Nao ha conflitos pendentes para revisar."}),n.jsx("button",{onClick:()=>w("all"),className:"btn-secondary mt-4",children:"Ver todos os conflitos"})]}):n.jsx("div",{className:"space-y-4",children:i.map(y=>{const E=S(y.conflicts);return E.length===0&&N!=="all"?null:n.jsxs(A.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"card overflow-hidden",children:[n.jsxs("button",{type:"button",onClick:()=>O(y.documentId),className:"w-full px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ee,{className:"w-6 h-6 text-gray-400"}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:y.documentName}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-mono",children:["ID: ",y.documentId.slice(0,12),"..."]})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex gap-2",children:[y.pendingCount>0&&n.jsxs("span",{className:"px-2 py-1 bg-amber-100 dark:bg-amber-900/30 text-amber-700 dark:text-amber-300 text-xs rounded-full flex items-center gap-1",children:[n.jsx(Je,{className:"w-3.5 h-3.5"}),y.pendingCount," pendente",y.pendingCount!==1?"s":""]}),y.resolvedCount>0&&n.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs rounded-full flex items-center gap-1",children:[n.jsx(de,{className:"w-3.5 h-3.5"}),y.resolvedCount," resolvido",y.resolvedCount!==1?"s":""]}),y.confirmedCount>0&&n.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs rounded-full flex items-center gap-1",children:[n.jsx(Qt,{className:"w-3.5 h-3.5"}),y.confirmedCount," confirmado",y.confirmedCount!==1?"s":""]})]}),y.isExpanded?n.jsx(Wn,{className:"w-5 h-5 text-gray-400"}):n.jsx(qn,{className:"w-5 h-5 text-gray-400"})]})]}),n.jsx(ie,{children:y.isExpanded&&n.jsx(A.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:n.jsx("div",{className:"p-4 space-y-4 bg-gray-50 dark:bg-gray-800/50",children:E.length===0?n.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-4",children:"Nenhum conflito encontrado com o filtro atual."}):E.map(C=>n.jsx(Mu,{conflict:C,onResolve:(_,U,Y)=>h(y.extractionId,_,U,Y),isLoading:u===C.fieldPath,disabled:u!==null&&u!==C.fieldPath,size:"md",showDetails:!0},`${y.documentId}-${C.fieldPath}`))})})})]},y.documentId)})}),n.jsxs("div",{className:"card p-6",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-3",children:"Como funciona a revisao de conflitos?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"p-2 bg-amber-100 dark:bg-amber-900/30 rounded-lg h-fit",children:n.jsx(Je,{className:"w-5 h-5 text-amber-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Pendentes"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Campos onde OCR e LLM divergem significativamente. Requerem revisao manual."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg h-fit",children:n.jsx(de,{className:"w-5 h-5 text-blue-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Resolvidos"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Conflitos resolvidos manualmente por um revisor, com valor final definido."})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/30 rounded-lg h-fit",children:n.jsx(Qt,{className:"w-5 h-5 text-green-500"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:"Confirmados"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Campos onde OCR e LLM concordam automaticamente. Nao requerem revisao."})]})]})]})]})]})}new Date().toISOString();function Tu(){const{user:e,loading:t}=jt(),a=la();return t?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):e?n.jsx(jn,{}):n.jsx(Nn,{to:"/login",state:{from:a},replace:!0})}const Au=new os({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}});function Lu(){return n.jsx(ls,{client:Au,children:n.jsx(Ii,{children:n.jsxs(Oi,{children:[n.jsx(oe,{path:"/login",element:n.jsx(Go,{})}),!1,n.jsx(oe,{element:n.jsx(Tu,{}),children:n.jsxs(oe,{element:n.jsx(Vo,{}),children:[n.jsx(oe,{path:"/",element:n.jsx(Nn,{to:"/dashboard",replace:!0})}),n.jsx(oe,{path:"/dashboard",element:n.jsx(ad,{})}),n.jsx(oe,{path:"/case/:caseId",element:n.jsx(rd,{})}),n.jsx(oe,{path:"/case/:caseId/upload",element:n.jsx(wu,{})}),n.jsx(oe,{path:"/case/:caseId/entities",element:n.jsx(ju,{})}),n.jsx(oe,{path:"/case/:caseId/canvas",element:n.jsx(Nu,{})}),n.jsx(oe,{path:"/case/:caseId/draft",element:n.jsx(Cu,{})}),n.jsx(oe,{path:"/case/:caseId/history",element:n.jsx(Eu,{})}),n.jsx(oe,{path:"/case/:caseId/conflicts",element:n.jsx(_u,{})})]})})]})})})}Oa.createRoot(document.getElementById("root")).render(n.jsx(Xa.StrictMode,{children:n.jsx(Di,{children:n.jsx(Lu,{})})}));
//# sourceMappingURL=index-BluYqTKx.js.map
